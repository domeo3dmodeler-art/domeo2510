# ๐ก๏ธ ะะตะทะพะฟะฐัะฝัะน Workflow ะะฐะทัะฐะฑะพัะบะธ

## ๐ฏ ะขัะธ ะทะพะฝั ะฑะตะทะพะฟะฐัะฝะพััะธ

```
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โ   ๐ LOCAL DEV  โโโโโถโ   ๐งช STAGING    โโโโโถโ   ๐ญ PRODUCTION โ
โ                 โ    โ                 โ    โ                 โ
โ โข ะะฐั ะบะพะผะฟัััะตั โ    โ โข ะขะตััะพะฒะฐั ะะ   โ    โ โข ะะตะฐะปัะฝะฐั ะะ   โ
โ โข ะะตะทะพะฟะฐัะฝะพ     โ    โ โข ะขะตััะธัะพะฒะฐะฝะธะต  โ    โ โข ะะพะปัะทะพะฒะฐัะตะปะธ  โ
โ โข ะญะบัะฟะตัะธะผะตะฝัั  โ    โ โข ะัะพะฒะตัะบะธ      โ    โ โข ะขะพะปัะบะพ ะณะพัะพะฒะพะตโ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
```

## ๐ ะะพะบะฐะปัะฝะฐั ัะฐะทัะฐะฑะพัะบะฐ

### ะะฐะฟััะบ:
```bash
# Linux/Mac
./dev-safe.sh

# Windows
.\dev-safe.ps1
```

### ะงัะพ ะฑะตะทะพะฟะฐัะฝะพ:
- โ ะัะฑัะต ัะบัะฟะตัะธะผะตะฝัั
- โ ะะพะปะพะผะบะฐ ะบะพะดะฐ
- โ ะขะตััะธัะพะฒะฐะฝะธะต ััะฝะบัะธะน
- โ ะัะปะฐะดะบะฐ

### ะงัะพ ะะ ะฒะปะธัะตั:
- โ ะะฐ production
- โ ะะฐ ัะตะฐะปัะฝัั ะฟะพะปัะทะพะฒะฐัะตะปะตะน
- โ ะะฐ ะฟัะพะดะฐะบัะตะฝ ะฑะฐะทั ะดะฐะฝะฝัั

---

## ๐งช Staging (ะขะตััะธัะพะฒะฐะฝะธะต)

### ะะฐัััะพะนะบะฐ ะฟะตัะตะผะตะฝะฝัั:
```bash
export STAGING_HOST="staging.yourdomain.com"
export STAGING_SSH_KEY="/path/to/ssh/key"
```

### ะะตะฟะปะพะน:
```bash
./deploy-staging-safe.sh
```

### ะงัะพ ัะตััะธััะตัะต:
- โ ะะพะฒัะต ััะฝะบัะธะธ
- โ ะะฝัะตะณัะฐัะธะธ
- โ ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั
- โ UI/UX

---

## ๐ญ Production (ะขะพะปัะบะพ ะณะพัะพะฒะพะต)

### ะะฐัััะพะนะบะฐ ะฟะตัะตะผะตะฝะฝัั:
```bash
export PROD_HOST="130.193.40.35"
export PROD_SSH_KEY="/path/to/ssh/key"
```

### ะะตะฟะปะพะน:
```bash
./deploy-production-safe.sh
```

### ะัะบะฐั (ะตัะปะธ ััะพ-ัะพ ะฟะพัะปะพ ะฝะต ัะฐะบ):
```bash
./rollback-production.sh
```

---

## ๐ ะะถะตะดะฝะตะฒะฝัะน workflow

### 1. ะฃััะพะผ - ัะฐะทัะฐะฑะพัะบะฐ:
```bash
# ะะฐะฟััะบะฐะตัะต ะปะพะบะฐะปัะฝะพ
./dev-safe.sh

# ะะฐะทัะฐะฑะฐััะฒะฐะตัะต ะฝะพะฒัะต ััะฝะบัะธะธ
# ะขะตััะธััะตัะต ะปะพะบะฐะปัะฝะพ
# ะะพะผะผะธัะธัะต ะธะทะผะตะฝะตะฝะธั
git add .
git commit -m "feat: new feature"
git push origin feature/new-feature
```

### 2. ะะฝะตะผ - ัะตััะธัะพะฒะฐะฝะธะต:
```bash
# ะะตัะถะธัะต ะฒ develop
git checkout develop
git merge feature/new-feature
git push origin develop

# ะะฒัะพะผะฐัะธัะตัะบะธ ะดะตะฟะปะพะธััั ะฝะฐ staging
# ะขะตััะธััะตัะต ะฝะฐ staging
# ะัะฟัะฐะฒะปัะตัะต ะฑะฐะณะธ
```

### 3. ะะตัะตัะพะผ - ะฟัะพะดะฐะบัะตะฝ:
```bash
# ะขะะะฌะะ ะตัะปะธ ะฒัะต ะฟัะพัะตััะธัะพะฒะฐะฝะพ
git checkout main
git merge develop
git tag v1.2.3
git push origin v1.2.3

# ะะฒัะพะผะฐัะธัะตัะบะธ ะดะตะฟะปะพะธััั ะฝะฐ production
```

---

## ๐จ ะงัะพ ะดะตะปะฐัั ะตัะปะธ ััะพ-ัะพ ัะปะพะผะฐะปะพัั

### ะะฐ ะปะพะบะฐะปัะฝะพะน ัะฐะทัะฐะฑะพัะบะต:
```bash
# ะัะพััะพ ะฟะตัะตะทะฐะฟัััะธัะต
./dev-safe.sh
```

### ะะฐ staging:
```bash
# ะัะบะฐัะธัะต ะธะทะผะตะฝะตะฝะธั
git revert <commit-hash>
git push origin develop
```

### ะะฐ production:
```bash
# ะกะะะงะะ! ะัะบะฐัะธัะต ะบ ะฟัะตะดัะดััะตะน ะฒะตััะธะธ
./rollback-production.sh
```

---

## โ ะะปะฐะฒะฝัะต ะฟัะฐะฒะธะปะฐ ะฑะตะทะพะฟะฐัะฝะพััะธ

1. **ะะธะบะพะณะดะฐ ะฝะต ะดะตะฟะปะพะนัะต ะฝะฐ production ะฑะตะท ัะตััะธัะพะฒะฐะฝะธั ะฝะฐ staging**
2. **ะัะตะณะดะฐ ัะพะทะดะฐะฒะฐะนัะต ะฑัะบะฐะฟั ะฟะตัะตะด ะดะตะฟะปะพะตะผ**
3. **ะัะฟะพะปัะทัะนัะต ัะตะณะธ ะฒะตััะธะน ะดะปั production**
4. **ะะพะฝะธัะพัััะต ะปะพะณะธ ะฟะพัะปะต ะบะฐะถะดะพะณะพ ะดะตะฟะปะพั**
5. **ะะผะตะนัะต ะฟะปะฐะฝ ะพัะบะฐัะฐ**

---

## ๐ง ะะฐัััะพะนะบะฐ

### 1. ะฃััะฐะฝะพะฒะธัะต ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั:
```bash
# ะะปั staging
export STAGING_HOST="staging.yourdomain.com"
export STAGING_SSH_KEY="/path/to/ssh/key"

# ะะปั production
export PROD_HOST="130.193.40.35"
export PROD_SSH_KEY="/path/to/ssh/key"
```

### 2. ะกะดะตะปะฐะนัะต ัะบัะธะฟัั ะธัะฟะพะปะฝัะตะผัะผะธ:
```bash
chmod +x dev-safe.sh
chmod +x deploy-staging-safe.sh
chmod +x deploy-production-safe.sh
chmod +x rollback-production.sh
```

### 3. ะะฐัััะพะนัะต SSH ะบะปััะธ:
```bash
# ะกะพะทะดะฐะนัะต SSH ะบะปัั ะดะปั staging
ssh-keygen -t rsa -b 4096 -f ~/.ssh/staging_key

# ะกะพะทะดะฐะนัะต SSH ะบะปัั ะดะปั production
ssh-keygen -t rsa -b 4096 -f ~/.ssh/production_key
```

---

## ๐ ะะพะฝะธัะพัะธะฝะณ

### Health checks:
```bash
# Staging
curl -f http://staging.yourdomain.com:3001/api/health

# Production
curl -f http://130.193.40.35:3000/api/health
```

### ะะพะณะธ:
```bash
# Staging
ssh -i $STAGING_SSH_KEY ubuntu@$STAGING_HOST "pm2 logs domeo-staging"

# Production
ssh -i $PROD_SSH_KEY ubuntu@$PROD_HOST "pm2 logs domeo"
```

---

## ๐ ะะพัะพะฒะพ!

ะขะตะฟะตัั ะฒั ะผะพะถะตัะต ัะฟะพะบะพะนะฝะพ ัะฐะทัะฐะฑะฐััะฒะฐัั, ะทะฝะฐั ััะพ production ะทะฐัะธัะตะฝ! ๐ก๏ธ
