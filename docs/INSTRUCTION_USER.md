# Инструкция по пользованию системой Domeo

**Для ролей: Комплектатор, Исполнитель**

---

## 1. Вход в систему

1. Откройте: **http://158.160.202.117/**
2. Нажмите **"Вход"**
3. Введите Email и Пароль
4. Нажмите **"Войти"**

---

## 2. Работа с каталогом и корзиной

### 2.1. Выбор товаров

1. Перейдите в **Каталог** (`/doors`)
2. Выберите товары из каталога
3. Добавьте товары в корзину

### 2.2. Формирование корзины

1. Откройте корзину (иконка в верхней части)
2. Проверьте выбранные товары
3. Измените количество при необходимости
4. Выберите клиента из списка или создайте нового

---

## 3. Работа с клиентами

### 3.1. Создание клиента

1. Нажмите **"Создать"** в списке клиентов
2. Заполните:
   - Фамилия *
   - Имя *
   - Телефон *
   - Отчество (необязательно)
   - Адрес (необязательно)
   - ID объекта (необязательно)
3. Нажмите **"Создать клиента"**

### 3.2. Поиск клиента

- Введите в поле поиска: ФИО, телефон или адрес
- Список фильтруется автоматически

### 3.3. Фильтр "В работе"

- Показывает клиентов с незавершенными документами

---

## 4. Комплектатор: КП и Счета

### 4.1. Создание КП (Коммерческого предложения)

1. Сформируйте корзину с товарами
2. Выберите клиента
3. Нажмите **"Создать КП"** в корзине
4. КП создается со статусом "Черновик"

### 4.2. Управление КП

**Доступные действия:**
- Изменить статус (клик по статусу)
- Перегенерировать PDF
- Создать счет из КП
- Комментарии
- История
- Удалить

**Статусы КП:**
- **Черновик** - в процессе подготовки
- **Отправлено** - отправлено клиенту
- **Согласовано** - клиент согласовал
- **Отказ** - клиент отказался

### 4.3. Создание счета из КП

1. Найдите согласованное КП (статус "Согласовано")
2. Нажмите **⋮** → **"Создать счет из КП"**
3. Счет создается автоматически

### 4.4. Управление счетами

**Доступные действия:**
- Изменить статус
- Перегенерировать PDF
- Комментарии
- История
- Удалить

**Статусы счетов:**
- **Черновик** - в процессе подготовки
- **Отправлен** - отправлен клиенту
- **Оплачен/Заказ** - клиент оплатил или подтвердил заказ
- **Заказ размещен** - заказ размещен у поставщика
- **Получен от поставщика** - товары получены
- **Исполнен** - заказ полностью выполнен
- **Отменен** - счет/заказ отменен

---

## 5. Исполнитель: Счета и Заказы у поставщика

### 5.1. Создание заказа у поставщика

1. Найдите счет со статусом "Оплачен/Заказ"
2. Нажмите **⋮** → **"Заказ у поставщика"**
3. Система создаст заказ и автоматически скачает Excel файл

### 5.2. Управление заказами у поставщика

**Доступные действия:**
- Изменить статус
- Скачать Excel
- Просмотр связанного счета
- Комментарии
- История
- Удалить

**Статусы заказов у поставщика:**
- **Черновик** - в процессе подготовки
- **Отправлен** - отправлен поставщику
- **Заказ размещен** - заказ размещен у поставщика
- **Получен от поставщика** - товары получены
- **Исполнен** - заказ полностью выполнен

---

## 6. Комментарии и история

### 6.1. Добавление комментария

1. Найдите документ в списке
2. Нажмите **"Комментарии"**
3. Введите текст комментария
4. Нажмите **"Отправить"**

### 6.2. Просмотр истории

1. Найдите документ в списке
2. Нажмите **"История"**
3. Просмотрите все изменения статусов и даты

**Индикатор:** Зеленый фон у иконки комментариев означает наличие комментариев

---

## 7. Изменение статусов документов

### 7.1. Как изменить статус

1. Найдите документ в списке
2. Кликните по цветному значку статуса
3. Выберите новый статус из выпадающего списка

### 7.2. Цветовая индикация

**КП:**
- Черновик - серый
- Отправлено - синий
- Согласовано - зеленый
- Отказ - красный

**Счета:**
- Черновик - серый
- Отправлен - синий
- Оплачен/Заказ - зеленый
- Заказ размещен - желтый
- Получен от поставщика - фиолетовый
- Исполнен - изумрудный
- Отменен - красный

**Заказы у поставщика:**
- Черновик - серый
- Отправлен - синий
- Заказ размещен - желтый
- Получен от поставщика - фиолетовый
- Исполнен - изумрудный

### 7.3. Ограничения

Некоторые статусы могут быть заблокированы, если документ связан с другими документами или статус изменяется автоматически системой.

---

## 8. Экспорт документов

### 8.1. Экспорт КП в PDF

1. Найдите КП в списке
2. Нажмите **⋮** → **"Перегенерировать PDF"**
3. PDF скачается автоматически

### 8.2. Экспорт счета в PDF

1. Найдите счет в списке
2. Нажмите **⋮** → **"Перегенерировать PDF"**
3. PDF скачается автоматически

### 8.3. Экспорт заказа у поставщика в Excel

1. Найдите заказ в списке
2. Нажмите **⋮** → **"Скачать Excel"**
3. Excel файл скачается автоматически

**Примечание:** Файлы сохраняются в папку "Загрузки" браузера

---

## 9. Типичные сценарии работы

### Сценарий 1: Комплектатор - полный цикл от КП до счета

1. Создайте клиента (если его нет)
2. Выберите товары в каталоге и добавьте в корзину
3. Создайте КП из корзины
4. Измените статус КП на **"Отправлено"**
5. После согласования клиентом измените статус на **"Согласовано"**
6. Создайте счет из КП через меню действий
7. Измените статус счета на **"Отправлен"**
8. После оплаты измените статус на **"Оплачен/Заказ"**

### Сценарий 2: Исполнитель - обработка оплаченного счета

1. Найдите клиента со счетом **"Оплачен/Заказ"**
2. Создайте заказ у поставщика из счета
3. Excel файл заказа скачается автоматически
4. Отправьте заказ поставщику
5. Измените статус заказа на **"Отправлен"**
6. После размещения у поставщика измените на **"Заказ размещен"**
7. После получения товаров измените на **"Получен от поставщика"**
8. После передачи клиенту измените на **"Исполнен"**
9. Обновите статус счета на **"Исполнен"**

---

## 10. Часто задаваемые вопросы

**В: Как создать КП или Счет?**  
О: Сначала сформируйте корзину через каталог (`/doors`), затем выберите клиента и создайте документ.

**В: Почему я не могу изменить статус документа?**  
О: Статус заблокирован, если документ связан с другими документами или изменяется автоматически. Обновите страницу и проверьте статус.

**В: Где хранятся скачанные PDF и Excel файлы?**  
О: В папке "Загрузки" вашего браузера (обычно `C:\Users\ВашеИмя\Downloads\`).

**В: Можно ли восстановить удаленный документ?**  
О: Нет, удаление необратимо. Перед удалением убедитесь, что документ больше не нужен.

**В: Как найти клиента среди большого списка?**  
О: Используйте поиск по ФИО, телефону или адресу. Также используйте фильтр "В работе".

**В: Как посмотреть полную информацию о документе?**  
О: Кликните по номеру документа или используйте кнопку "Открыть документ" в меню действий (⋮).

---

## 11. Различия между ролями

### Комплектатор
- ✅ Коммерческие предложения (КП)
- ✅ Счета
- ❌ Заказы у поставщика (не доступны)

### Исполнитель
- ✅ Счета
- ✅ Заказы у поставщика
- ❌ Коммерческие предложения (не доступны)

---

## 12. Выход из системы

1. Нажмите кнопку **"Выход"** в правом верхнем углу
2. Вы будете разлогинены и перенаправлены на страницу входа

**Важно:** Всегда выходите из системы после завершения работы, особенно на общих компьютерах.

---

**Контактная информация:**  
Для вопросов и поддержки обращайтесь к администратору системы.

**Последнее обновление:** 01.11.2025

