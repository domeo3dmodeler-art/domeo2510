# üèóÔ∏è –ü–æ–ª–Ω—ã–π –æ–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞ Domeo

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞**: 1.1  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 2025-11-03  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 2025-11-03  
**–°—Ç–∞—Ç—É—Å**: Production Ready (–∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ)

---

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞](#–æ–ø–∏—Å–∞–Ω–∏–µ-–ø—Ä–æ–µ–∫—Ç–∞)
2. [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫](#—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π-—Å—Ç–µ–∫)
3. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
4. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
5. [–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –º–æ–¥–µ–ª–∏](#–±–∞–∑–∞-–¥–∞–Ω–Ω—ã—Ö-–∏-–º–æ–¥–µ–ª–∏)
6. [API –∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã](#api-–∏-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã)
7. [–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –¥–µ–ø–ª–æ–π](#–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–∏-–¥–µ–ø–ª–æ–π)
8. [–†–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞](#—Ä–æ–ª–∏-–∏-–ø—Ä–∞–≤–∞-–¥–æ—Å—Ç—É–ø–∞)
9. [–î–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç](#–¥–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç)
10. [–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –ª–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫](#—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞-–∏-–ª–æ–∫–∞–ª—å–Ω—ã–π-–∑–∞–ø—É—Å–∫)

---

## üìñ –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

**Domeo** ‚Äî —ç—Ç–æ NoCode –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä–æ–≤ —Ç–æ–≤–∞—Ä–æ–≤ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–¥–∞–∂–∞–º–∏. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–∞—Ç–∞–ª–æ–≥–æ–º —Ç–æ–≤–∞—Ä–æ–≤ (–¥–≤–µ—Ä–∏, —Ñ—É—Ä–Ω–∏—Ç—É—Ä–∞), —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π, —Å—á–µ—Ç–æ–≤, –∑–∞–∫–∞–∑–æ–≤ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –±–∞–∑–æ–π.

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- ‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–æ–º**: –ò–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç —Ç–æ–≤–∞—Ä–æ–≤, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, —Å–≤–æ–π—Å—Ç–≤–∞, —Ñ–æ—Ç–æ
- ‚úÖ **NoCode –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä—ã**: –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä–æ–≤ —Ç–æ–≤–∞—Ä–æ–≤ –±–µ–∑ –∫–æ–¥–∞
- ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ö–ü (–∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π), —Å—á–µ—Ç–æ–≤, –∑–∞–∫–∞–∑–æ–≤, –∑–∞–∫–∞–∑–æ–≤ —É –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
- ‚úÖ **–ö–æ—Ä–∑–∏–Ω–∞ –∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã**: –ï–¥–∏–Ω–∞—è –∫–æ—Ä–∑–∏–Ω–∞ –¥–ª—è –≤—Å–µ—Ö —Ä–æ–ª–µ–π, —Å–æ–∑–¥–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã
- ‚úÖ **–ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –±–∞–∑–∞**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º–∏, –∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ –∏ –∏—Å—Ç–æ—Ä–∏–µ–π
- ‚úÖ **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞**: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–æ—Ç–∏—Ä–æ–≤–∫–∞–º, –ø—Ä–æ–¥–∞–∂–∞–º, –∑–∞–∫–∞–∑–∞–º
- ‚úÖ **–ú–Ω–æ–≥–æ—Ä–æ–ª–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞**: –ê–¥–º–∏–Ω, –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä, –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å —Å —Ä–∞–∑–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏
- ‚úÖ **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ —Å—Ç–∞—Ç—É—Å–∞—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- ‚úÖ **–§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Yandex Object Storage –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤

---

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Frontend
- **Framework**: Next.js 15.5.6 (App Router)
- **UI Library**: React 19.2.0
- **Language**: TypeScript 5.5.4
- **Styling**: Tailwind CSS 3.4.10
- **UI Components**: 
  - Radix UI (–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏)
  - Lucide React (–∏–∫–æ–Ω–∫–∏)
  - Sonner (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è/toast)
  - React DnD (drag & drop –¥–ª—è NoCode –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤)
- **State Management**: React Context API, useState, useReducer
- **Forms**: –ù–∞—Ç–∏–≤–Ω—ã–µ React —Ñ–æ—Ä–º—ã —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ Zod

### Backend
- **Runtime**: Node.js 20 (–≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ)
- **API Framework**: Next.js API Routes (App Router)
- **ORM**: Prisma 6.18.0
- **Authentication**: JWT (jose 6.1.0, jsonwebtoken 9.0.2)
- **Password Hashing**: bcryptjs 2.4.3
- **PDF Generation**: Puppeteer 24.25.0 —Å Chromium
- **Excel Export**: ExcelJS 4.4.0, XLSX 0.18.5
- **Templates**: Handlebars 4.7.8
- **File Storage**: AWS SDK –¥–ª—è S3-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (Yandex Object Storage)
- **Image Processing**: Sharp 0.33.2

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Production/Staging**: PostgreSQL 15-alpine
- **Development**: SQLite (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ Prisma)
- **ORM**: Prisma Client (–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–π)
- **Migrations**: Prisma Migrate

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **Containerization**: Docker
- **Orchestration**: 
  - Staging: Docker Compose –Ω–∞ VM (130.193.40.35)
  - Production: Kubernetes (Managed K8s Yandex Cloud)
- **Container Registry**: Yandex Container Registry (YCR)
- **Cloud Provider**: Yandex Cloud
- **Load Balancer**: Yandex Network Load Balancer (NLB) –¥–ª—è production
- **Storage**: 
  - Staging: –õ–æ–∫–∞–ª—å–Ω—ã–µ volumes –≤ Docker Compose
  - Production: PersistentVolumeClaim (PVC) –¥–ª—è uploads –≤ Kubernetes
  - –§–∞–π–ª—ã: Yandex Object Storage (S3-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–µ)

### DevOps –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- **CI/CD**: –°–∫—Ä–∏–ø—Ç—ã PowerShell –¥–ª—è –¥–µ–ø–ª–æ—è –Ω–∞ staging VM
- **Version Control**: Git (GitHub)
- **Monitoring**: Prometheus (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ –ø—Ä–æ–µ–∫—Ç–µ)
- **Logging**: Winston 3.11.0
- **Testing**: Playwright –¥–ª—è E2E —Ç–µ—Å—Ç–æ–≤

---

## üèõÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Client Browser                       ‚îÇ
‚îÇ         (Next.js SSR/SSG + React Client)                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚îÇ HTTP/HTTPS
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              Next.js Application                         ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  App Router (app/)                                ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ Pages (UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)                        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ API Routes (app/api/)                        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ Components (app/components/)                 ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Shared Components (components/)                    ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Libraries (lib/)                                  ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ Auth, Validation, Export                       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îú‚îÄ‚îÄ Services, Repositories                        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ Utils                                         ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ                       ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   PostgreSQL   ‚îÇ      ‚îÇ Yandex Object  ‚îÇ
‚îÇ   Database     ‚îÇ      ‚îÇ    Storage     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

- **Pages** (`app/*/page.tsx`): –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (Next.js App Router)
- **API Routes** (`app/api/*/route.ts`): Backend API endpoints
- **Components** (`components/`): –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **App Components** (`app/components/`): –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è app router
- **Libraries** (`lib/`): –£—Ç–∏–ª–∏—Ç—ã, —Å–µ—Ä–≤–∏—Å—ã, —Ö–µ–ª–ø–µ—Ä—ã
- **Hooks** (`hooks/`): React hooks –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
domeo/
‚îú‚îÄ‚îÄ app/                          # Next.js App Router
‚îÇ   ‚îú‚îÄ‚îÄ api/                      # API endpoints (200+ —Ñ–∞–π–ª–æ–≤)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin/                # –ê–¥–º–∏–Ω API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/                 # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ documents/            # –î–æ–∫—É–º–µ–Ω—Ç—ã (–ö–ü, —Å—á–µ—Ç–∞, –∑–∞–∫–∞–∑—ã)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ orders/               # –ó–∞–∫–∞–∑—ã API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ invoices/             # –°—á–µ—Ç–∞ API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ quotes/               # –ö–ü API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ supplier-orders/      # –ó–∞–∫–∞–∑—ã —É –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ clients/              # –ö–ª–∏–µ–Ω—Ç—ã API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ catalog/              # –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤ API
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...                   # –î—Ä—É–≥–∏–µ API endpoints
‚îÇ   ‚îú‚îÄ‚îÄ admin/                    # –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ catalog/              # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–æ–º
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ categories/           # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ clients/              # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ users/                # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îú‚îÄ‚îÄ complectator/             # –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dashboard/            # –î–∞—à–±–æ—Ä–¥ –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ executor/                 # –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dashboard/            # –î–∞—à–±–æ—Ä–¥ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ dashboard/                # –ì–ª–∞–≤–Ω—ã–π –¥–∞—à–±–æ—Ä–¥ (—Ä–æ—É—Ç–∏–Ω–≥ –ø–æ —Ä–æ–ª—è–º)
‚îÇ   ‚îú‚îÄ‚îÄ doors/                    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ç–æ—Ä –¥–≤–µ—Ä–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ components/               # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è app router
‚îÇ   ‚îî‚îÄ‚îÄ lib/                      # –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è app router
‚îú‚îÄ‚îÄ components/                    # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ ui/                       # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Button, Card, Modal, etc.)
‚îÇ   ‚îú‚îÄ‚îÄ cart/                     # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–æ—Ä–∑–∏–Ω—ã
‚îÇ   ‚îú‚îÄ‚îÄ documents/                # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ complectator/             # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ executor/                 # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ constructor/              # NoCode –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ page-builder/             # –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ lib/                          # –£—Ç–∏–ª–∏—Ç—ã –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ auth/                     # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ JWT
‚îÇ   ‚îú‚îÄ‚îÄ validation/               # –í–∞–ª–∏–¥–∞—Ü–∏—è (Zod —Å—Ö–µ–º—ã)
‚îÇ   ‚îú‚îÄ‚îÄ export/                   # –≠–∫—Å–ø–æ—Ä—Ç –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (PDF, Excel)
‚îÇ   ‚îú‚îÄ‚îÄ import/                   # –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ documents/                # –õ–æ–≥–∏–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ cart/                     # –õ–æ–≥–∏–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã
‚îÇ   ‚îú‚îÄ‚îÄ services/                 # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ repositories/             # –î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º
‚îÇ   ‚îú‚îÄ‚îÄ storage/                  # –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–æ–≤—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º
‚îÇ   ‚îú‚îÄ‚îÄ utils/                    # –£—Ç–∏–ª–∏—Ç—ã (document-statuses.ts –∏ –¥—Ä.)
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ hooks/                        # React hooks
‚îÇ   ‚îú‚îÄ‚îÄ useAuth.ts                # –•—É–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ useCart.ts                # –•—É–∫ –∫–æ—Ä–∑–∏–Ω—ã
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ prisma/                       # Prisma ORM
‚îÇ   ‚îú‚îÄ‚îÄ schema.prisma             # –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ migrations/               # –ú–∏–≥—Ä–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ seed.ts                   # –°–∏–¥–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ public/                       # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ scripts/                      # –°–∫—Ä–∏–ø—Ç—ã (PowerShell, Bash, TS)
‚îÇ   ‚îú‚îÄ‚îÄ deploy-*.ps1              # –°–∫—Ä–∏–ø—Ç—ã –¥–µ–ø–ª–æ—è
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ docs/                         # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ DOCUMENT_LOGIC_COMPLETE.md # –ü–æ–ª–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ ARCHITECTURE.md           # –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ k8s/                         # Kubernetes –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã (production)
‚îú‚îÄ‚îÄ docker-compose.staging.yml    # Docker Compose –¥–ª—è staging
‚îú‚îÄ‚îÄ Dockerfile.staging            # Dockerfile –¥–ª—è staging
‚îú‚îÄ‚îÄ Dockerfile.production         # Dockerfile –¥–ª—è production
‚îú‚îÄ‚îÄ next.config.mjs               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Next.js
‚îú‚îÄ‚îÄ tailwind.config.js            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Tailwind
‚îú‚îÄ‚îÄ tsconfig.json                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è TypeScript
‚îî‚îÄ‚îÄ package.json                  # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–∫—Ä–∏–ø—Ç—ã
```

---

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –º–æ–¥–µ–ª–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥–µ–ª–∏ (Prisma Schema)

#### User (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
- –†–æ–ª–∏: `admin`, `complectator`, `executor`
- JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- –°–≤—è–∑–∏ —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ —á–µ—Ä–µ–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –∏—Å—Ç–æ—Ä–∏—é

#### Client (–ö–ª–∏–µ–Ω—Ç—ã)
- –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è: –§–ò–û, —Ç–µ–ª–µ—Ñ–æ–Ω, –∞–¥—Ä–µ—Å, objectId, compilationLeadNumber
- –°–≤—è–∑–∏: `quotes`, `invoices`, `orders`, `documents`
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ–ª—è –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ (`customFields`)

#### Order (–ó–∞–∫–∞–∑—ã) ‚Äî **–û–°–ù–û–í–ù–ê–Ø –°–£–©–ù–û–°–¢–¨** ‚≠ê
- –ù–æ–º–µ—Ä: "–ó–∞–∫–∞–∑-XXX" (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –Ω—É–º–µ—Ä–∞—Ü–∏—è: –ó–∞–∫–∞–∑-1, –ó–∞–∫–∞–∑-2, ...) ‚Äî `@unique`
- –°–≤—è–∑–∏:
  - `client_id` ‚Üí Client (–æ–¥–∏–Ω –∫–ª–∏–µ–Ω—Ç, –º–Ω–æ–≥–æ –∑–∞–∫–∞–∑–æ–≤)
  - `invoice_id` ‚Üí Invoice (–æ–¥–∏–Ω –∫ –æ–¥–Ω–æ–º—É: –æ–¥–∏–Ω –∑–∞–∫–∞–∑ = –æ–¥–∏–Ω —Å—á–µ—Ç, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø–æ–ª–µ)
  - `complectator_id`, `executor_id` ‚Üí User (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ)
- –°—Ç–∞—Ç—É—Å—ã: 
  - –î–ª—è –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä–∞: —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏ Invoice (DRAFT, SENT, PAID, ORDERED, RECEIVED_FROM_SUPPLIER, COMPLETED, CANCELLED)
  - –î–ª—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è: –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã (NEW_PLANNED, UNDER_REVIEW, AWAITING_MEASUREMENT, AWAITING_INVOICE, COMPLETED)
  - –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `NEW_PLANNED`
- –ü–æ–ª—è –¥–ª—è –¥–µ–¥—É–±–ª–∏–∫–∞—Ü–∏–∏: `cart_data` (JSON), `total_amount`
- `parent_document_id`: –≤—Å–µ–≥–¥–∞ `null` (–∑–∞–∫–∞–∑ ‚Äî –ø–µ—Ä–≤–∏—á–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç)
- `cart_session_id`: –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: 
  - `notes`, `lead_number`
  - `project_file_url` (URL —Ñ–∞–π–ª–∞ –ø—Ä–æ–µ–∫—Ç–∞/–ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∏)
  - `door_dimensions` (JSON —Å —Ä–∞–∑–º–µ—Ä–∞–º–∏ –¥–≤–µ—Ä–µ–π)
  - `measurement_done` (Boolean), `project_complexity` (SIMPLE | COMPLEX)
  - `wholesale_invoices` (JSON –º–∞—Å—Å–∏–≤ URL –æ–ø—Ç–æ–≤—ã—Ö —Å—á–µ—Ç–æ–≤)
  - `technical_specs` (JSON –º–∞—Å—Å–∏–≤ URL —Ç–µ—Ö–∑–∞–¥–∞–Ω–∏–π)
  - `verification_status` (PENDING | VERIFIED | FAILED), `verification_notes`

#### Invoice (–°—á–µ—Ç–∞)
- –ù–æ–º–µ—Ä: "–°—á–µ—Ç-{timestamp}" (–ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —á–µ—Ä–µ–∑ `/api/documents/create`) –∏–ª–∏ "INV-001" (–ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —á–µ—Ä–µ–∑ `/api/invoices`)
- –°–≤—è–∑–∏:
  - `order_id` ‚Üí Order (—É–Ω–∏–∫–∞–ª—å–Ω–æ–µ, –æ–¥–∏–Ω –∫ –æ–¥–Ω–æ–º—É) ‚Äî **@unique**
  - `client_id` ‚Üí Client
- –°—Ç–∞—Ç—É—Å—ã: `DRAFT`, `SENT`, `PAID`, `CANCELLED`, `ORDERED`, `RECEIVED_FROM_SUPPLIER`, `COMPLETED`
- –ü–æ–ª—è: `cart_data`, `total_amount`, `parent_document_id` (—Å—Å—ã–ª–∫–∞ –Ω–∞ Order)

#### Quote (–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è / –ö–ü)
- –ù–æ–º–µ—Ä: "–ö–ü-{timestamp}" (–ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —á–µ—Ä–µ–∑ `/api/documents/create`) –∏–ª–∏ "KP-001" (–ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —á–µ—Ä–µ–∑ `/api/quotes`)
- –°–≤—è–∑–∏:
  - `client_id` ‚Üí Client
  - `parent_document_id` ‚Üí Order (–µ—Å–ª–∏ —Å–æ–∑–¥–∞–Ω–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–∫–∞–∑–∞)
- –°—Ç–∞—Ç—É—Å—ã: `DRAFT`, `SENT`, `ACCEPTED`, `REJECTED`, `CANCELLED`
- –ü–æ–ª—è: `cart_data`, `total_amount`, `parent_document_id`

#### SupplierOrder (–ó–∞–∫–∞–∑—ã —É –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞)
- –ù–æ–º–µ—Ä: "SUPPLIER-{order_number}" (–Ω–∞–ø—Ä–∏–º–µ—Ä, "SUPPLIER-–ó–∞–∫–∞–∑-123") ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø–æ–ª–µ (`number`)
- –°–≤—è–∑–∏:
  - `parent_document_id` ‚Üí Order (–æ—Å–Ω–æ–≤–Ω–∞—è —Å–≤—è–∑—å, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ)
  - –ù–µ—Ç –ø—Ä—è–º–æ–π —Å–≤—è–∑–∏ —Å Invoice –≤ —Å—Ö–µ–º–µ, –Ω–æ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ —á–µ—Ä–µ–∑ `Order.invoice_id`
- –°—Ç–∞—Ç—É—Å—ã: `PENDING`, `ORDERED`, `RECEIVED_FROM_SUPPLIER`, `COMPLETED`, `CANCELLED`
- –ü–æ–ª—è: 
  - `supplier_name`, `supplier_email`, `supplier_phone` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ)
  - `executor_id` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ, ID –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è)
  - `expected_date`, `order_date`, `notes`
  - `cart_data` (JSON), `total_amount` (–¥–ª—è –¥–µ–¥—É–±–ª–∏–∫–∞—Ü–∏–∏)
  - `cart_session_id` (–¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤)

#### Document (–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤)
- –û–±–µ—Ä—Ç–∫–∞ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (legacy, –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
- –¢–∏–ø—ã: `quote`, `invoice`, `order`, `supplier_order`

#### Category, Product, Property
- –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤ —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–º–ø–æ—Ä—Ç–∞/—ç–∫—Å–ø–æ—Ä—Ç–∞
- –ú–æ–¥–µ–ª–∏: `CatalogCategory`, `Product`, `ProductProperty`, `ProductImage`

### –õ–æ–≥–∏–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

**–¶–µ–ø–æ—á–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:**
```
Order (–ø–µ—Ä–≤–∏—á–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç) - —Å–æ–∑–¥–∞–µ—Ç—Å—è –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã
    ‚îú‚îÄ‚îÄ Invoice (–æ–¥–∏–Ω –∫ –æ–¥–Ω–æ–º—É, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è —Å–≤—è–∑—å —á–µ—Ä–µ–∑ order_id @unique)
    ‚îú‚îÄ‚îÄ Quote (–º–Ω–æ–≥–æ, —Å–æ–∑–¥–∞—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–∫–∞–∑–∞ —á–µ—Ä–µ–∑ parent_document_id)
    ‚îî‚îÄ‚îÄ SupplierOrder (–º–Ω–æ–≥–æ, —Å–æ–∑–¥–∞—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–∫–∞–∑–∞ —á–µ—Ä–µ–∑ parent_document_id)
```

**–ü–æ—Ä—è–¥–æ–∫ —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–í–ê–ñ–ù–û):**
1. **Order**: –°–æ–∑–¥–∞–µ—Ç—Å—è –ü–ï–†–í–´–ú –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä–æ–º —á–µ—Ä–µ–∑ `POST /api/orders`
   - `parent_document_id = null` (Order ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç)
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç `cart_data` –∏ `total_amount` –¥–ª—è –¥–µ–¥—É–±–ª–∏–∫–∞—Ü–∏–∏
2. **Invoice**: –°–æ–∑–¥–∞–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ Order —á–µ—Ä–µ–∑ `POST /api/documents/create` —Å —Ç–∏–ø–æ–º `'invoice'` –∏ `parent_document_id = orderId`
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≤—è–∑—ã–≤–∞–µ—Ç—Å—è —Å Order —á–µ—Ä–µ–∑ `order_id` (one-to-one)
   - –£ –æ–¥–Ω–æ–≥–æ Order –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω Invoice
3. **Quote**: –°–æ–∑–¥–∞–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ Order —á–µ—Ä–µ–∑ `POST /api/documents/create` —Å —Ç–∏–ø–æ–º `'quote'` –∏ `parent_document_id = orderId`
   - –ú–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ Quote –¥–ª—è –æ–¥–Ω–æ–≥–æ Order
4. **SupplierOrder**: –°–æ–∑–¥–∞–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ Order —á–µ—Ä–µ–∑ `POST /api/supplier-orders` —Å `orderId`
   - –ú–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ SupplierOrder –¥–ª—è –æ–¥–Ω–æ–≥–æ Order

**–î–µ–¥—É–±–ª–∏–∫–∞—Ü–∏—è:**
- **–î–ª—è Order**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ `parent_document_id` (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `null`), `cart_data` (hash), `total_amount`, `client_id`, `cart_session_id`
- **–î–ª—è Invoice/Quote/SupplierOrder**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ `parent_document_id` (Order ID) –∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É –∫–æ—Ä–∑–∏–Ω—ã (`cart_data`)
- –ï—Å–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç —Å —Ç–∞–∫–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π, –Ω–æ–≤—ã–π –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è

---

## üîå API –∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ API endpoints

#### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- `POST /api/auth/login` ‚Äî –≤—Ö–æ–¥
- `POST /api/auth/register` ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω)

#### –ó–∞–∫–∞–∑—ã (Orders) ‚≠ê
- `GET /api/orders` ‚Äî —Å–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤ (—Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ –∫–ª–∏–µ–Ω—Ç—É, —Å—Ç–∞—Ç—É—Å—É)
- `POST /api/orders` ‚Äî **—Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã** (–æ—Å–Ω–æ–≤–Ω–æ–π endpoint)
- `GET /api/orders/[id]` ‚Äî –¥–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞
- `PUT /api/orders/[id]/status` ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞
- `POST /api/orders/[id]/project` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞/–ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∏
- `POST /api/orders/[id]/files` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –æ–ø—Ç–æ–≤—ã—Ö —Å—á–µ—Ç–æ–≤ –∏ —Ç–µ—Ö–∑–∞–¥–∞–Ω–∏–π
- `PUT /api/orders/[id]/door-dimensions` ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–≤–µ—Ä–µ–π
- `POST /api/orders/[id]/verify` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–∞

**‚ö†Ô∏è –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ endpoints (DEPRECATED):**
- `POST /api/orders/create-with-invoice` ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `POST /api/orders` –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ

#### –°—á–µ—Ç–∞ (Invoices)
- `GET /api/invoices` ‚Äî —Å–ø–∏—Å–æ–∫ —Å—á–µ—Ç–æ–≤
- `POST /api/invoices` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ —Å—á–µ—Ç–∞
- `GET /api/invoices/[id]` ‚Äî –¥–µ—Ç–∞–ª–∏ —Å—á–µ—Ç–∞
- `PUT /api/invoices/[id]/status` ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Å—á–µ—Ç–∞

#### –ö–ü (Quotes)
- `GET /api/quotes` ‚Äî —Å–ø–∏—Å–æ–∫ –ö–ü (—Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ `parent_document_id`)
- `POST /api/quotes` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –ö–ü
- `GET /api/quotes/[id]` ‚Äî –¥–µ—Ç–∞–ª–∏ –ö–ü
- `PUT /api/quotes/[id]/status` ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ö–ü

#### –ó–∞–∫–∞–∑—ã —É –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ (SupplierOrders)
- `GET /api/supplier-orders` ‚Äî —Å–ø–∏—Å–æ–∫ (—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ `orderId` –∏–ª–∏ `invoiceId` –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
- `POST /api/supplier-orders` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ —É –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ (—Ç—Ä–µ–±—É–µ—Ç `orderId`, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ `invoiceId`)
- `GET /api/supplier-orders/[id]` ‚Äî –¥–µ—Ç–∞–ª–∏
- `GET /api/supplier-orders/[id]/excel` ‚Äî —ç–∫—Å–ø–æ—Ä—Ç –≤ Excel
- `PUT /api/supplier-orders/[id]/status` ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞

#### –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
- `POST /api/documents/create` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –ª—é–±–æ–≥–æ —Ç–∏–ø–∞
- `POST /api/documents/create-batch` ‚Äî –º–∞—Å—Å–æ–≤–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ
- `GET /api/documents` ‚Äî —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- `GET /api/documents/[id]` ‚Äî –¥–µ—Ç–∞–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞
- `PUT /api/documents/[id]/status` ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞

#### –ö–∞—Ç–∞–ª–æ–≥
- `GET /api/catalog/products` ‚Äî —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤
- `GET /api/catalog/categories` ‚Äî —Å–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- `POST /api/catalog/import` ‚Äî –∏–º–ø–æ—Ä—Ç —Ç–æ–≤–∞—Ä–æ–≤

#### –ö–ª–∏–µ–Ω—Ç—ã
- `GET /api/clients` ‚Äî —Å–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤
- `POST /api/clients` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞
- `GET /api/clients/[id]` ‚Äî –¥–µ—Ç–∞–ª–∏ –∫–ª–∏–µ–Ω—Ç–∞

#### –≠–∫—Å–ø–æ—Ä—Ç
- `POST /api/cart/export/enhanced` ‚Äî —ç–∫—Å–ø–æ—Ä—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞ –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã
- `GET /api/documents/[id]/export` ‚Äî —ç–∫—Å–ø–æ—Ä—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞

---

## üöÄ –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –¥–µ–ø–ª–æ–π

### Staging Environment (–¢–µ—Å—Ç–æ–≤–∞—è –í–ú)

**–•–æ—Å—Ç–∏–Ω–≥**: –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞ (130.193.40.35)  
**–°—Ç–µ–∫**: Docker Compose  
**–ü–æ—Ä—Ç—ã**: 
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: `3001`
- PostgreSQL: `5433` (–º–∞–ø–ø–∏–Ω–≥ —Å —Ö–æ—Å—Ç–∞)
- Redis: `6380` (–º–∞–ø–ø–∏–Ω–≥ —Å —Ö–æ—Å—Ç–∞)

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**:
- `docker-compose.staging.yml` ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker Compose
- `Dockerfile.staging` ‚Äî Dockerfile –¥–ª—è —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–∞
- `env.staging` ‚Äî –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–ü—Ä–æ—Ü–µ—Å—Å –¥–µ–ø–ª–æ—è**:
1. –õ–æ–∫–∞–ª—å–Ω–æ: –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ
2. Git: `git add`, `git commit`, `git push`
3. –ù–∞ VM: `git pull origin main`
4. –°–±–æ—Ä–∫–∞: `docker compose -f docker-compose.staging.yml build --no-cache staging-app`
5. –ó–∞–ø—É—Å–∫: `docker compose -f docker-compose.staging.yml up -d staging-app`

**–î–æ—Å—Ç—É–ø**:
- URL: `http://130.193.40.35:3001`
- Health Check: `http://130.193.40.35:3001/api/health`

### Production Environment (–ü—Ä–æ–¥–∞–∫—à–Ω)

**–•–æ—Å—Ç–∏–Ω–≥**: Managed Kubernetes Yandex Cloud  
**–°—Ç–µ–∫**: Kubernetes, Docker  
**Registry**: Yandex Container Registry (YCR)

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**:
- `k8s/` ‚Äî Kubernetes –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã
- `docker-compose.production.yml` ‚Äî –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- `Dockerfile.production` ‚Äî Dockerfile –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω –æ–±—Ä–∞–∑–∞

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**:
- Deployment: Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- Service: –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Å–µ—Ä–≤–∏—Å
- Ingress: –í–Ω–µ—à–Ω–∏–π –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ NLB
- PVC: –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è uploads
- Secrets: –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (env vars)

### Docker Compose Services (Staging)

```yaml
services:
  staging-app:
    build:
      context: .
      dockerfile: Dockerfile.staging
    ports:
      - "3001:3001"
    environment:
      - DATABASE_URL=postgresql://...
      - REDIS_URL=redis://...
    volumes:
      - ./uploads:/app/uploads
      - ./logs:/app/logs
  staging-postgres:
    image: postgres:15-alpine
    ports:
      - "5433:5432"
    volumes:
      - postgres_data:/var/lib/postgresql/data
  staging-redis:
    image: redis:7-alpine
    ports:
      - "6380:6379"
```

---

## üë• –†–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

### Admin (–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä)
- –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–æ–º (–∏–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç)
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏

### Complectator (–ö–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä)
- **–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã** —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É "–°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑"
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤** –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ (`/complectator/dashboard`)
- **–°–æ–∑–¥–∞–Ω–∏–µ –ö–ü –∏ —Å—á–µ—Ç–æ–≤** –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–∫–∞–∑–æ–≤ —á–µ—Ä–µ–∑ `POST /api/documents/create`
- **–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–∫–∞–∑–æ–≤**: –ß–µ—Ä–Ω–æ–≤–∏–∫, –û—Ç–ø—Ä–∞–≤–ª–µ–Ω, –û–ø–ª–∞—á–µ–Ω/–ó–∞–∫–∞–∑, –ó–∞–∫–∞–∑ —Ä–∞–∑–º–µ—â–µ–Ω, –ü–æ–ª—É—á–µ–Ω –æ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞, –ò—Å–ø–æ–ª–Ω–µ–Ω, –û—Ç–º–µ–Ω–µ–Ω
- **–ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–æ–≤ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è** (—Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ, –±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è)
- –†–∞–±–æ—Ç–∞ —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏
- **UI**: –¢–æ–ª—å–∫–æ –≤–∫–ª–∞–¥–∫–∞ "–ó–∞–∫–∞–∑—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã" (—É–±—Ä–∞–Ω—ã –≤–∫–ª–∞–¥–∫–∏ "–ö–æ—Ä–∑–∏–Ω–∞" –∏ "–ó–∞–∫–∞–∑—ã")

### Executor (–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å)
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏** –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ (`/executor/dashboard`)
- **–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–∫–∞–∑–æ–≤**: NEW_PLANNED, UNDER_REVIEW (—Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–µ–∫—Ç/–ø–ª–∞–Ω–∏—Ä–æ–≤–∫—É), AWAITING_MEASUREMENT, AWAITING_INVOICE, COMPLETED
- **–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞/–ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∏** —á–µ—Ä–µ–∑ `POST /api/orders/[id]/project`
- **–ó–∞–≥—Ä—É–∑–∫–∞ –æ–ø—Ç–æ–≤—ã—Ö —Å—á–µ—Ç–æ–≤ –∏ —Ç–µ—Ö–∑–∞–¥–∞–Ω–∏–π** —á–µ—Ä–µ–∑ `POST /api/orders/[id]/files`
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –¥–≤–µ—Ä–µ–π** —á–µ—Ä–µ–∑ `PUT /api/orders/[id]/door-dimensions`
- **–ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å—á–µ—Ç–æ–≤ –∏ –ö–ü** (—Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ)
- **–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ —É –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞** –Ω–∞ –æ—Å–Ω–æ–≤–µ Order —á–µ—Ä–µ–∑ `POST /api/supplier-orders`

### –°—Ç–∞—Ç—É—Å—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

**–°—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤ (Order) ‚Äî –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä–∞** (—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏ Invoice):
- `–ß–µ—Ä–Ω–æ–≤–∏–∫` (DRAFT) ‚Äî –∑–∞–∫–∞–∑ —Å–æ–∑–¥–∞–Ω, –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω
- `–û—Ç–ø—Ä–∞–≤–ª–µ–Ω` (SENT) ‚Äî –∑–∞–∫–∞–∑ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –∫–ª–∏–µ–Ω—Ç—É
- `–û–ø–ª–∞—á–µ–Ω/–ó–∞–∫–∞–∑` (PAID) ‚Äî —Å—á–µ—Ç –æ–ø–ª–∞—á–µ–Ω, –∑–∞–∫–∞–∑ –ø—Ä–∏–Ω—è—Ç
- `–ó–∞–∫–∞–∑ —Ä–∞–∑–º–µ—â–µ–Ω` (ORDERED) ‚Äî –∑–∞–∫–∞–∑ —Ä–∞–∑–º–µ—â–µ–Ω —É –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
- `–ü–æ–ª—É—á–µ–Ω –æ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞` (RECEIVED_FROM_SUPPLIER) ‚Äî —Ç–æ–≤–∞—Ä –ø–æ–ª—É—á–µ–Ω –æ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞
- `–ò—Å–ø–æ–ª–Ω–µ–Ω` (COMPLETED) ‚Äî –∑–∞–∫–∞–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω
- `–û—Ç–º–µ–Ω–µ–Ω` (CANCELLED) ‚Äî –∑–∞–∫–∞–∑ –æ—Ç–º–µ–Ω–µ–Ω

**–°—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤ (Order) ‚Äî –¥–ª—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è**:
- `–ù–æ–≤—ã–π –∑–∞–∫–∞–∑` (NEW_PLANNED) ‚Äî –Ω–æ–≤—ã–π –∑–∞–∫–∞–∑
- `–ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ` (UNDER_REVIEW) ‚Äî –∑–∞–∫–∞–∑ –≤ –ø—Ä–æ–≤–µ—Ä–∫–µ (—Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–µ–∫—Ç/–ø–ª–∞–Ω–∏—Ä–æ–≤–∫—É)
- `–ñ–¥—É—Ç –∑–∞–º–µ—Ä` (AWAITING_MEASUREMENT) ‚Äî –æ–∂–∏–¥–∞–µ—Ç –∑–∞–º–µ—Ä
- `–û–∂–∏–¥–∞—é—Ç —Å—á–µ—Ç` (AWAITING_INVOICE) ‚Äî –æ–∂–∏–¥–∞–µ—Ç —Å—á–µ—Ç
- `–í—ã–ø–æ–ª–Ω–µ–Ω–∞` (COMPLETED) ‚Äî –∑–∞–∫–∞–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω

**–°—Ç–∞—Ç—É—Å—ã —Å—á–µ—Ç–æ–≤ (Invoice)**:
- `DRAFT`, `SENT`, `PAID`, `ORDERED`, `RECEIVED_FROM_SUPPLIER`, `COMPLETED`, `CANCELLED`

**–°—Ç–∞—Ç—É—Å—ã –ö–ü (Quote)**:
- `DRAFT`, `SENT`, `ACCEPTED`, `REJECTED`, `CANCELLED`

**–°—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤ —É –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ (SupplierOrder)**:
- `PENDING`, `ORDERED`, `RECEIVED_FROM_SUPPLIER`, `COMPLETED`, `CANCELLED`

**–í–∞–∂–Ω–æ:** –í—Å–µ —Å—Ç–∞—Ç—É—Å—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ –≤ `lib/utils/document-statuses.ts` —Å —Ñ—É–Ω–∫—Ü–∏–µ–π `getStatusLabel()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä—É—Å—Å–∫–∏—Ö –Ω–∞–∑–≤–∞–Ω–∏–π.

---

## üìÑ –î–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç

### –õ–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–∞–∫—Ç—É–∞–ª—å–Ω–∞—è)

**‚ö†Ô∏è –í–ê–ñ–ù–û: Order —Å–æ–∑–¥–∞–µ—Ç—Å—è –ü–ï–†–í–´–ú –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã, –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ Order.**

1. **–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã** ‚≠ê:
   - –ö–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä –¥–æ–±–∞–≤–ª—è–µ—Ç —Ç–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω—É
   - –í—ã–±–∏—Ä–∞–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞
   - –ù–∞–∂–∏–º–∞–µ—Ç "–°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑" (–∫–Ω–æ–ø–∫–∞ –≤ –∫–æ—Ä–∑–∏–Ω–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –¥–≤–µ—Ä–µ–π `/doors` –∏–ª–∏ –≤ `EnhancedCartSidebar`)
   - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `POST /api/orders` —Å –¥–∞–Ω–Ω—ã–º–∏ –∫–æ—Ä–∑–∏–Ω—ã:
     ```json
     {
       "client_id": "string",
       "items": [...],
       "total_amount": 0,
       "subtotal": 0,
       "tax_amount": 0,
       "notes": "string"
     }
     ```
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –¥–µ–¥—É–±–ª–∏–∫–∞—Ü–∏—è –ø–æ `parent_document_id` (null), `cart_data` (hash), `total_amount`, `client_id`, `cart_session_id`
   - –°–æ–∑–¥–∞–µ—Ç—Å—è Order —Å –Ω–æ–º–µ—Ä–æ–º "–ó–∞–∫–∞–∑-XXX" (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –Ω—É–º–µ—Ä–∞—Ü–∏—è)
   - –ö–æ—Ä–∑–∏–Ω–∞ **–ù–ï –æ—á–∏—â–∞–µ—Ç—Å—è** –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞

2. **–°–æ–∑–¥–∞–Ω–∏–µ —Å—á–µ—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–∫–∞–∑–∞**:
   - –ö–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä –≤—ã–±–∏—Ä–∞–µ—Ç –∑–∞–∫–∞–∑ –≤ –¥–∞—à–±–æ—Ä–¥–µ
   - –°–æ–∑–¥–∞–µ—Ç —Å—á–µ—Ç —á–µ—Ä–µ–∑ `POST /api/documents/create`:
     ```json
     {
       "type": "invoice",
       "parent_document_id": "orderId",
       "client_id": "string",
       "items": [...]
     }
     ```
   - –°—á–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≤—è–∑—ã–≤–∞–µ—Ç—Å—è —Å –∑–∞–∫–∞–∑–æ–º —á–µ—Ä–µ–∑ `order_id` (one-to-one, @unique)
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è: —É –∑–∞–∫–∞–∑–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω Invoice

3. **–°–æ–∑–¥–∞–Ω–∏–µ –ö–ü –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–∫–∞–∑–∞**:
   - –ö–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä –≤—ã–±–∏—Ä–∞–µ—Ç –∑–∞–∫–∞–∑
   - –°–æ–∑–¥–∞–µ—Ç –ö–ü —á–µ—Ä–µ–∑ `POST /api/documents/create`:
     ```json
     {
       "type": "quote",
       "parent_document_id": "orderId",
       "client_id": "string",
       "items": [...]
     }
     ```
   - –ú–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ö–ü –¥–ª—è –æ–¥–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞

4. **–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ —É –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞**:
   - –ù–∞ –æ—Å–Ω–æ–≤–µ Order —á–µ—Ä–µ–∑ `POST /api/supplier-orders`:
     ```json
     {
       "orderId": "string",  // –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ (–æ—Å–Ω–æ–≤–Ω–æ–π)
       "invoiceId": "string",  // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
       "supplierName": "string",
       "supplierEmail": "string",
       "supplierPhone": "string",
       "expectedDate": "string",
       "notes": "string",
       "cartData": "object"  // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –±–µ—Ä–µ—Ç—Å—è –∏–∑ Order –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ
     }
     ```
   - –ï—Å–ª–∏ –ø–µ—Ä–µ–¥–∞–Ω `invoiceId`, —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–π–¥–µ—Ç —Å–≤—è–∑–∞–Ω–Ω—ã–π Order —á–µ—Ä–µ–∑ `Invoice.order_id`
   - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –Ω–æ–º–µ—Ä "SUPPLIER-{Order.number}" (–Ω–∞–ø—Ä–∏–º–µ—Ä, "SUPPLIER-–ó–∞–∫–∞–∑-123")

### –î–µ–¥—É–±–ª–∏–∫–∞—Ü–∏—è

**–î–ª—è Order**:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ `parent_document_id` (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `null`), `cart_data` (hash —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –∫–æ—Ä–∑–∏–Ω—ã), `total_amount`, `client_id`, `cart_session_id`
- –§—É–Ω–∫—Ü–∏—è: `findExistingDocument()` –≤ `app/api/documents/create/route.ts`
- –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∑–∞–∫–∞–∑ —Å —Ç–µ–º–∏ –∂–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ–Ω, –Ω–æ–≤—ã–π –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è

**–î–ª—è Invoice, Quote, SupplierOrder**:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ `parent_document_id` (Order ID) –∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É –∫–æ—Ä–∑–∏–Ω—ã (`cart_data`)
- –ï—Å–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç —Å —Ç–∞–∫–∏–º `parent_document_id` –∏ —Å–æ–¥–µ—Ä–∂–∏–º—ã–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
- –î–ª—è Invoice —Ç–∞–∫–∂–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å `order_id` (one-to-one —Å–≤—è–∑—å —á–µ—Ä–µ–∑ `@unique` –≤ Prisma —Å—Ö–µ–º–µ)
- –§—É–Ω–∫—Ü–∏—è –¥–µ–¥—É–±–ª–∏–∫–∞—Ü–∏–∏: `findExistingDocument()` –≤ `app/api/documents/create/route.ts`

### –ù—É–º–µ—Ä–∞—Ü–∏—è

- **–ó–∞–∫–∞–∑—ã (Order)**: "–ó–∞–∫–∞–∑-1", "–ó–∞–∫–∞–∑-2", ... (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –Ω—É–º–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ `generateOrderNumber()` –≤ `app/api/orders/route.ts`)
- **–°—á–µ—Ç–∞ (Invoice)**: 
  - –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —á–µ—Ä–µ–∑ `POST /api/documents/create`: "–°—á–µ—Ç-{timestamp}" (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–°—á–µ—Ç-1701234567890")
  - –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —á–µ—Ä–µ–∑ `POST /api/invoices`: "INV-001", "INV-002", ... (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –Ω—É–º–µ—Ä–∞—Ü–∏—è)
- **–ö–ü (Quote)**: 
  - –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —á–µ—Ä–µ–∑ `POST /api/documents/create`: "–ö–ü-{timestamp}" (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ö–ü-1701234567890")
  - –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —á–µ—Ä–µ–∑ `POST /api/quotes`: "KP-001", "KP-002", ... (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –Ω—É–º–µ—Ä–∞—Ü–∏—è)
- **–ó–∞–∫–∞–∑—ã —É –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ (SupplierOrder)**: "SUPPLIER-{Order.number}" (–Ω–∞–ø—Ä–∏–º–µ—Ä, "SUPPLIER-–ó–∞–∫–∞–∑-123")

---

## üíª –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –ª–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è**:
- Node.js 20+
- npm –∏–ª–∏ yarn
- PostgreSQL (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω-–ø–æ–¥–æ–±–Ω–æ–π —Å—Ä–µ–¥—ã) –∏–ª–∏ SQLite
- Git

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞**:
```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone <repository-url>
cd domeo

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Prisma Client
npm run prisma:generate

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
cp env.example .env.local
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env.local

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PostgreSQL)
npm run prisma:migrate

# –ó–∞–ø—É—Å–∫ dev —Å–µ—Ä–≤–µ—Ä–∞
npm run dev
```

**–õ–æ–∫–∞–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã**:
- `npm run dev` ‚Äî –∑–∞–ø—É—Å–∫ dev —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ—Ä—Ç 3000)
- `npm run build` ‚Äî —Å–±–æ—Ä–∫–∞ production
- `npm run type-check` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ TypeScript
- `npm run lint` ‚Äî –ª–∏–Ω—Ç–∏–Ω–≥ –∫–æ–¥–∞

### –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

```bash
# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
npm run prisma:migrate

# –û—Ç–∫–∞—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ (dev)
npm run prisma:migrate:reset

# –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö –≤ Prisma Studio
npm run prisma:studio

# –°–∏–¥–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö
npm run prisma:seed
```

### Git Workflow

**–û—Å–Ω–æ–≤–Ω—ã–µ –≤–µ—Ç–∫–∏**:
- `main` ‚Äî production-ready –∫–æ–¥
- `develop` ‚Äî staging/development (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

**–ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**:
1. –°–æ–∑–¥–∞—Ç—å feature branch
2. –í–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è
3. –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å: `git add . && git commit -m "–æ–ø–∏—Å–∞–Ω–∏–µ"`
4. –ó–∞–ø—É—à–∏—Ç—å: `git push origin main`
5. –ù–∞ VM: `git pull origin main` –∏ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

### –î–µ–ø–ª–æ–π –Ω–∞ Staging VM

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π** (—á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç—ã):
```powershell
# PowerShell —Å–∫—Ä–∏–ø—Ç
.\scripts\deploy-to-staging.ps1
```

**–†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π**:
```bash
# SSH –Ω–∞ VM
ssh ubuntu@130.193.40.35

# –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /opt/domeo

# –ü–æ–ª—É—á–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
git pull origin main

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑ (–±–µ–∑ –∫—ç—à–∞)
docker compose -f docker-compose.staging.yml build --no-cache staging-app

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker compose -f docker-compose.staging.yml up -d

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å health
curl http://localhost:3001/api/health
```

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

- **JWT —Ç–æ–∫–µ–Ω—ã**: –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ cookies –∏ localStorage
- **–¢–æ–∫–µ–Ω—ã**: –ì–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –ø—Ä–∏ –ª–æ–≥–∏–Ω–µ, —Å–æ–¥–µ—Ä–∂–∞—Ç `userId` –∏ `userRole`
- **Middleware**: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤ –Ω–∞ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ (Next.js middleware)
- **–ó–∞—â–∏—Ç–∞ API**: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–µ–π –∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –≤ API routes

### –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

- **–ú–∞—Ä—à—Ä—É—Ç—ã**: –ó–∞—â–∏—Ç–∞ —á–µ—Ä–µ–∑ `ClientAuthGuard` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- **API**: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–µ–π –≤ –∫–∞–∂–¥–æ–º endpoint
- **–°—Ç–∞—Ç—É—Å—ã**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ (`canUserChangeStatus`)

### –§–∞–π–ª—ã

- **Upload**: –ó–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ `/api/upload`
- **Storage**: Yandex Object Storage (S3-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–µ)
- **–î–æ—Å—Ç—É–ø**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –Ω–∞ –¥–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª–∞–º

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### Health Check

- **Endpoint**: `/api/health`
- **–ü—Ä–æ–≤–µ—Ä–∫–∏**: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö, —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, –æ–±—â–∏–π —Å—Ç–∞—Ç—É—Å

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

- **Winston**: –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–£—Ä–æ–≤–Ω–∏**: error, warn, info, debug
- **–§–∞–π–ª—ã**: –õ–æ–≥–∏ –≤ `logs/` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- **Prometheus**: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ `monitoring/`
- **Metrics**: `/api/metrics` endpoint
- **Alerting**: –ü—Ä–∞–≤–∏–ª–∞ –∞–ª–µ—Ä—Ç–æ–≤ –≤ `monitoring/alert_rules.yml`

---

## üóÇÔ∏è –í–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `next.config.mjs` ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Next.js
- `tailwind.config.js` ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Tailwind CSS
- `tsconfig.json` ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è TypeScript
- `prisma/schema.prisma` ‚Äî —Å—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- `package.json` ‚Äî –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–∫—Ä–∏–ø—Ç—ã

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `docs/DOCUMENT_LOGIC_COMPLETE.md` ‚Äî –ø–æ–ª–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- `docs/ARCHITECTURE.md` ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- `docs/PROJECT_STRUCTURE.md` ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- `README.md` ‚Äî –æ–±—â–∏–π README

### Docker —Ñ–∞–π–ª—ã

- `Dockerfile.staging` ‚Äî –æ–±—Ä–∞–∑ –¥–ª—è staging
- `Dockerfile.production` ‚Äî –æ–±—Ä–∞–∑ –¥–ª—è production
- `docker-compose.staging.yml` ‚Äî compose –¥–ª—è staging VM
- `docker-compose.production.yml` ‚Äî compose –¥–ª—è production (–ª–æ–∫–∞–ª—å–Ω–æ)

### Kubernetes

- `k8s/` ‚Äî –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã –¥–ª—è Kubernetes
- `k8s/app-production.yaml` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π deployment
- `k8s/ingress/` ‚Äî ingress –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

---

## üîÑ –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ (–∞–∫—Ç—É–∞–ª—å–Ω–æ –Ω–∞ 2025-11-03)

### –ê–∫—Ç—É–∞–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

1. **Order ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å** ‚≠ê:
   - Order —Å–æ–∑–¥–∞–µ—Ç—Å—è –ü–ï–†–í–´–ú –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã —á–µ—Ä–µ–∑ `POST /api/orders`
   - –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã (Invoice, Quote, SupplierOrder) —Å–æ–∑–¥–∞—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ Order
   - Order –∏–º–µ–µ—Ç `parent_document_id = null` (–æ—Å–Ω–æ–≤–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç)
   - Invoice —Å–≤—è–∑–∞–Ω —Å Order —á–µ—Ä–µ–∑ `order_id` (one-to-one, @unique)

2. **–°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞—Ç—É—Å–æ–≤**:
   - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã –≤ `lib/utils/document-statuses.ts`
   - –§—É–Ω–∫—Ü–∏—è `getStatusLabel()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä—É—Å—Å–∫–∏—Ö –Ω–∞–∑–≤–∞–Ω–∏–π
   - –°—Ç–∞—Ç—É—Å—ã Order —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏ Invoice –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä–∞
   - –û—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã –¥–ª—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è (NEW_PLANNED, UNDER_REVIEW, AWAITING_MEASUREMENT, AWAITING_INVOICE, COMPLETED)

3. **UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**:
   - `OrderDetailsModal` ‚Äî –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–µ—Ç–∞–ª–µ–π –∑–∞–∫–∞–∑–∞ (`components/complectator/OrderDetailsModal.tsx`)
   - –î–∞—à–±–æ—Ä–¥ –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä–∞: —Ç–æ–ª—å–∫–æ –≤–∫–ª–∞–¥–∫–∞ "–ó–∞–∫–∞–∑—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã" (—É–±—Ä–∞–Ω—ã "–ö–æ—Ä–∑–∏–Ω–∞" –∏ "–ó–∞–∫–∞–∑—ã")
   - –ö–Ω–æ–ø–∫–∞ "–°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑" –≤ –∫–æ—Ä–∑–∏–Ω–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –¥–≤–µ—Ä–µ–π (`/doors`)
   - –î–∞—à–±–æ—Ä–¥ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è: `OrdersBoard` —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –∑–∞–∫–∞–∑–∞–º–∏

4. **API endpoints**:
   - `POST /api/orders` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã (–æ—Å–Ω–æ–≤–Ω–æ–π)
   - `POST /api/documents/create` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ Invoice, Quote –Ω–∞ –æ—Å–Ω–æ–≤–µ Order
   - `POST /api/supplier-orders` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ —É –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ Order
   - ‚ö†Ô∏è `POST /api/orders/create-with-invoice` ‚Äî DEPRECATED (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

### –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–ù–ï –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è)

- **Application API** (`/api/applications/*`): Application –±—ã–ª –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω –≤ Order, –Ω–æ endpoints –æ—Å—Ç–∞–≤–ª–µ–Ω—ã –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- **–°—Ç–∞—Ä—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤**: –í—Å–µ —Å—Ç–∞—Ç—É—Å—ã —Ç–µ–ø–µ—Ä—å –≤ `lib/utils/document-statuses.ts`

### –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–ö–æ—Ä–∑–∏–Ω–∞**: –ï–¥–∏–Ω–∞—è –∫–æ—Ä–∑–∏–Ω–∞ –¥–ª—è –≤—Å–µ—Ö —Ä–æ–ª–µ–π, —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ localStorage, **–ù–ï –æ—á–∏—â–∞–µ—Ç—Å—è** –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞
- **–î–µ–¥—É–±–ª–∏–∫–∞—Ü–∏—è**: –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ `parent_document_id`, `cart_data` (hash), `total_amount`, `client_id`, `cart_session_id`
- **–°—Ç–∞—Ç—É—Å—ã**: –†–∞–∑–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–æ–ª–µ–π, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –º–µ–∂–¥—É Order –∏ Invoice –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä–∞
- **–û–¥–∏–Ω —Å—á–µ—Ç –Ω–∞ –∑–∞–∫–∞–∑**: –°–≤—è–∑—å Order ‚Üî Invoice –æ–¥–∏–Ω-–∫-–æ–¥–Ω–æ–º—É —á–µ—Ä–µ–∑ `order_id @unique`

---

## üìù –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
```bash
npm run dev              # –ó–∞–ø—É—Å–∫ dev —Å–µ—Ä–≤–µ—Ä–∞
npm run build            # –°–±–æ—Ä–∫–∞ production
npm run type-check       # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
npm run lint             # –õ–∏–Ω—Ç–∏–Ω–≥
npm run prisma:studio    # Prisma Studio (GUI –¥–ª—è –ë–î)
```

### –†–∞–±–æ—Ç–∞ —Å Git
```bash
git status               # –°—Ç–∞—Ç—É—Å –∏–∑–º–µ–Ω–µ–Ω–∏–π
git add .                # –î–æ–±–∞–≤–∏—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git commit -m "..."       # –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å
git push                 # –ó–∞–ø—É—à–∏—Ç—å –≤ remote
```

### –î–µ–ø–ª–æ–π –Ω–∞ Staging
```bash
# –ù–∞ VM —á–µ—Ä–µ–∑ SSH
cd /opt/domeo
git pull origin main
docker compose -f docker-compose.staging.yml build --no-cache staging-app
docker compose -f docker-compose.staging.yml up -d staging-app
curl http://localhost:3001/api/health
```

### Docker
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker compose -f docker-compose.staging.yml logs -f staging-app

# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker compose -f docker-compose.staging.yml ps

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker compose -f docker-compose.staging.yml down

# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker compose -f docker-compose.staging.yml up -d
```

---

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ URL –∏ –¥–æ—Å—Ç—É–ø—ã

### Staging
- **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**: http://130.193.40.35:3001
- **Health Check**: http://130.193.40.35:3001/api/health
- **PostgreSQL**: `130.193.40.35:5433`
- **Redis**: `130.193.40.35:6380`

### Production
- URL –±—É–¥–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Ingress –≤ Kubernetes

### –î–æ—Å—Ç—É–ø—ã (–¥–ª—è —Å–ø—Ä–∞–≤–∫–∏, –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—å –∑–¥–µ—Å—å —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
- SSH: `ubuntu@130.193.40.35` (—Å SSH –∫–ª—é—á–æ–º)
- Git: GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (domeo3dmodeler-art/domeo2510)

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–∞–ø–∫–µ `docs/`:
- `DOCUMENT_LOGIC_COMPLETE.md` ‚Äî –ø–æ–ª–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- `ARCHITECTURE.md` ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- `PROJECT_STRUCTURE.md` ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- `SYSTEM_RULES_AND_PERMISSIONS.md` ‚Äî –ø—Ä–∞–≤–∏–ª–∞ –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
- –ò –¥—Ä—É–≥–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

---

## üö® –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è (–∞–∫—Ç—É–∞–ª—å–Ω–æ)

1. **Order ‚Äî –ø–µ—Ä–≤–∏—á–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç** ‚≠ê: 
   - Order —Å–æ–∑–¥–∞–µ—Ç—Å—è –ü–ï–†–í–´–ú –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã —á–µ—Ä–µ–∑ `POST /api/orders`
   - –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã (Invoice, Quote, SupplierOrder) —Å–æ–∑–¥–∞—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ Order
   - `parent_document_id = null` –¥–ª—è Order –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã

2. **–î–µ–¥—É–±–ª–∏–∫–∞—Ü–∏—è**: 
   - –†–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
   - –î–ª—è Order: –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ `parent_document_id` (null), `cart_data`, `total_amount`, `client_id`, `cart_session_id`
   - –î–ª—è –¥—Ä—É–≥–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤: –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ `parent_document_id` (Order ID) –∏ `cart_data`

3. **–°—Ç–∞—Ç—É—Å—ã**: 
   - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ `lib/utils/document-statuses.ts`
   - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –º–µ–∂–¥—É Order –∏ Invoice –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä–∞
   - –û—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã –¥–ª—è –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è

4. **–ö–æ—Ä–∑–∏–Ω–∞**: 
   - –ù–ï –æ—á–∏—â–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞ (–ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é)
   - –ï–¥–∏–Ω–∞—è –∫–æ—Ä–∑–∏–Ω–∞ –¥–ª—è –≤—Å–µ—Ö —Ä–æ–ª–µ–π, —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ localStorage

5. **–û–¥–∏–Ω —Å—á–µ—Ç –Ω–∞ –∑–∞–∫–∞–∑**: 
   - –°–≤—è–∑—å Order ‚Üî Invoice –æ–¥–∏–Ω-–∫-–æ–¥–Ω–æ–º—É —á–µ—Ä–µ–∑ `order_id @unique`
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ Invoice –Ω–∞ –æ—Å–Ω–æ–≤–µ Order

6. **Git workflow**: 
   - –ò–∑–º–µ–Ω–µ–Ω–∏—è –¥–µ–ª–∞—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ, –∑–∞—Ç–µ–º `git add`, `git commit`, `git push`
   - –ù–∞ VM: `git pull origin main`, –∑–∞—Ç–µ–º –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

7. **‚ö†Ô∏è –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ endpoints**: 
   - `POST /api/orders/create-with-invoice` ‚Äî DEPRECATED, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `POST /api/orders`
   - `/api/applications/*` ‚Äî Application –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω –≤ Order, –Ω–æ endpoints –æ—Å—Ç–∞–≤–ª–µ–Ω—ã –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞**: 1.1  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 2025-11-03  
**–°—Ç–∞—Ç—É—Å**: –î–æ–∫—É–º–µ–Ω—Ç –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω, —É—Å—Ç–∞—Ä–µ–≤—à–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —É–¥–∞–ª–µ–Ω–∞

