# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –æ–ø—Ü–∏—è–º–∏ —à–∏—Ä–∏–Ω—ã –≤ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–µ

## üîç **–ü—Ä–æ–±–ª–µ–º–∞**
–í –≤—ã–ø–∞–¥–∞—é—â–µ–º –º–µ–Ω—é "–®–∏—Ä–∏–Ω–∞" –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –¥–≤–µ –æ–ø—Ü–∏–∏: "‚Äî" –∏ "700", —Ö–æ—Ç—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 4 –≤–∞—Ä–∏–∞–Ω—Ç–∞: 600, 700, 800, 900.

## üîç **–ü—Ä–∏—á–∏–Ω–∞**
–§—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞–ª –ø–∞—Ä–∞–º–µ—Ç—Ä `finish` –≤ API –∑–∞–ø—Ä–æ—Å –∫–∞—Å–∫–∞–¥–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏, –∏–∑-–∑–∞ —á–µ–≥–æ API –≤–æ–∑–≤—Ä–∞—â–∞–ª –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏ –¥–ª—è —Ä–∞–∑–º–µ—Ä–æ–≤.

## ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**

### 1. **–î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `finish` –≤ API –∑–∞–ø—Ä–æ—Å**
```typescript
// –ë—ã–ª–æ:
if (sel.color) query.set('color', sel.color);

// –°—Ç–∞–ª–æ:
if (sel.finish) query.set('finish', sel.finish);
if (sel.color) query.set('color', sel.color);
```

### 2. **–û–±–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ useEffect**
```typescript
// –ë—ã–ª–æ:
}, [sel.model, sel.style, sel.color, sel.type, sel.width, sel.height]);

// –°—Ç–∞–ª–æ:
}, [sel.model, sel.style, sel.finish, sel.color, sel.type, sel.width, sel.height]);
```

### 3. **–£–ª—É—á—à–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ–ø—Ü–∏–π**
```typescript
// –ë—ã–ª–æ:
options={sel.color ? ((domain?.width || []) as number[]).map(String) : []}

// –°—Ç–∞–ª–æ:
options={sel.color && domain?.width ? ((domain.width) as number[]).map(String) : []}
```

## üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

### API –∑–∞–ø—Ä–æ—Å —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:
```bash
curl "http://localhost:3000/api/catalog/doors/cascade-options?style=–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è&model=DomeoDoors_Base_1&finish=–ü–í–•&color=–ë–µ–ª—ã–π"
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç:
```json
{
  "ok": true,
  "filteredCount": 79,
  "availableOptions": {
    "finish": ["–ü–í–•"],
    "color": ["–ë–µ–ª—ã–π"],
    "type": ["–†–∞—Å–ø–∞—à–Ω–∞—è"],
    "width": [600, 700, 800, 900],
    "height": [2000, 2100, 2200, 2300],
    "edge": ["–î–∞", "–ù–µ—Ç"]
  }
}
```

## ‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç**
- ‚úÖ –í—ã–ø–∞–¥–∞—é—â–µ–µ –º–µ–Ω—é "–®–∏—Ä–∏–Ω–∞" —Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ 4 –≤–∞—Ä–∏–∞–Ω—Ç–∞: 600, 700, 800, 900
- ‚úÖ –í—ã–ø–∞–¥–∞—é—â–µ–µ –º–µ–Ω—é "–í—ã—Å–æ—Ç–∞" –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ 4 –≤–∞—Ä–∏–∞–Ω—Ç–∞: 2000, 2100, 2200, 2300
- ‚úÖ –ö–∞—Å–∫–∞–¥–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—ã–±–∏—Ä–∞—Ç—å –ª—é–±—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã

## üéØ **–ö–ª—é—á–µ–≤–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ**
–î–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∫–∞—Å–∫–∞–¥–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –í–°–ï –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ API –∑–∞–ø—Ä–æ—Å, –≤–∫–ª—é—á–∞—è `finish`, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –æ–ø—Ü–∏–∏ –¥–ª—è —Å–ª–µ–¥—É—é—â–∏—Ö —É—Ä–æ–≤–Ω–µ–π (—Ü–≤–µ—Ç–∞, —Ä–∞–∑–º–µ—Ä—ã).
