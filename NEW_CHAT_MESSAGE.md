# –ü–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –Ω–æ–≤–æ–≥–æ —á–∞—Ç–∞

## –ü—Ä–æ–µ–∫—Ç: Domeo - –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞–º–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
- **Frontend/Backend**: Next.js 15 (App Router) —Å TypeScript
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL —Å Prisma ORM
- **–°—Ç–∏–ª–∏–∑–∞—Ü–∏—è**: Tailwind CSS
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: JWT (—Ç–æ–∫–µ–Ω—ã –≤ cookies –∏ localStorage)
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è**: Docker / Docker Compose (staging), Kubernetes (production)
- **–û–±–ª–∞–∫–æ**: Yandex Cloud (Managed K8s, Container Registry)

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

**Staging –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
- –°–µ—Ä–≤–µ—Ä: `130.193.40.35:3001`
- SSH –∫–ª—é—á: `C:\Users\petr2\.ssh\ssh-key-1757583003347\ssh-key-1757583003347`
- –ü—É—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ: `/opt/domeo`
- Docker Compose —Ñ–∞–π–ª: `docker-compose.staging.yml`
- –°–µ—Ä–≤–∏—Å: `staging-app`

**Deployment –ø—Ä–æ—Ü–µ—Å—Å:**
```bash
# –õ–æ–∫–∞–ª—å–Ω–æ
git add -A
git commit -m "–æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"
git push origin main

# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
ssh ubuntu@130.193.40.35
cd /opt/domeo
git pull origin main
docker compose -f docker-compose.staging.yml build --no-cache staging-app
docker compose -f docker-compose.staging.yml up -d --force-recreate staging-app
```

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (–ë–´–°–¢–†–ê–Ø!)

**–ó–∞–ø—É—Å–∫ –±–µ–∑ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ Docker:**
```powershell
# –¢–µ—Ä–º–∏–Ω–∞–ª 1: SSH —Ç—É–Ω–Ω–µ–ª—å
npm run dev:tunnel

# –¢–µ—Ä–º–∏–Ω–∞–ª 2: Dev —Å–µ—Ä–≤–µ—Ä
npm run dev

# –ë—Ä–∞—É–∑–µ—Ä: http://localhost:3000
```

üìñ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- `LOCAL_DEV_SETUP.md` - –ø–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- `LOCAL_DEV_QUICK_START.md` - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- `LOCAL_DEV_CHEATSHEET.md` - —à–ø–∞—Ä–≥–∞–ª–∫–∞

### –û—Å–Ω–æ–≤–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

**–ì–ª–∞–≤–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å - Order (–ó–∞–∫–∞–∑):**
- –ü–µ—Ä–≤–∏—á–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç, —Å–æ–∑–¥–∞–µ—Ç—Å—è –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä–æ–º
- –ù—É–º–µ—Ä–∞—Ü–∏—è: "–ó–∞–∫–∞–∑-XXX" (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è)
- –°–æ–¥–µ—Ä–∂–∏—Ç: `cart_data` (JSON: `{ items: [...], total_amount: ... }`), `total_amount`, `cart_session_id`, `parent_document_id`
- –°–≤—è–∑–∞–Ω —Å: `Invoice` (–æ–¥–∏–Ω –∫ –æ–¥–Ω–æ–º—É), `Quote`, `SupplierOrder`

**–î–æ–∫—É–º–µ–Ω—Ç—ã:**
- **Order** - –æ—Å–Ω–æ–≤–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç, —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º
- **Invoice** - —Å—á–µ—Ç, —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ Order
- **Quote** - –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ, —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ Order
- **SupplierOrder** - –∑–∞–∫–∞–∑ —É –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞, —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ Order

**–õ–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è:**
1. –ö–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä —Å–æ–∑–¥–∞–µ—Ç **Order** –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã (–∫–Ω–æ–ø–∫–∞ "–°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑")
2. –ù–∞ –æ—Å–Ω–æ–≤–µ Order —Å–æ–∑–¥–∞—é—Ç—Å—è –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã (Invoice, Quote, SupplierOrder)
3. –í—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã —Å–≤—è–∑–∞–Ω—ã —á–µ—Ä–µ–∑ `parent_document_id` –∏ `order_id`

**–î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ `cart_session_id`, `client_id`, `total_amount`, —Ö–µ—à—É `cart_data`
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

### –†–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞

**Complectator (–ö–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä):**
- –°–æ–∑–¥–∞–µ—Ç Order –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã
- –£–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å–∞–º–∏ Order: –ß–µ—Ä–Ω–æ–≤–∏–∫, –û—Ç–ø—Ä–∞–≤–ª–µ–Ω, –û–ø–ª–∞—á–µ–Ω/–ó–∞–∫–∞–∑, –û—Ç–º–µ–Ω–µ–Ω
- –í–∏–¥–∏—Ç —Å—Ç–∞—Ç—É—Å—ã –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è, –Ω–æ –Ω–µ –º–æ–∂–µ—Ç –∏—Ö –∏–∑–º–µ–Ω—è—Ç—å
- –õ–ö: `/complectator/dashboard` - —Ç–æ–ª—å–∫–æ —Å–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤
- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∑–∞–∫–∞–∑–∞: `components/complectator/OrderDetailsModal.tsx`

**Executor (–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å):**
- –£–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å–∞–º–∏ Order: –ù–æ–≤—ã–π –∑–∞–∫–∞–∑, –ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ, –ñ–¥–µ—Ç –∑–∞–º–µ—Ä, –û–∂–∏–¥–∞–µ—Ç —Å—á–µ—Ç, –í—ã–ø–æ–ª–Ω–µ–Ω–∞
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–∞–π–ª—ã: –ø—Ä–æ–µ–∫—Ç/–ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∞, —Ç–µ—Ö. –∑–∞–¥–∞–Ω–∏—è, –æ–ø—Ç–æ–≤—ã–µ —Å—á–µ—Ç–∞
- –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç: "–û–ø–ª–∞—á–µ–Ω–Ω—ã–π —Å—á–µ—Ç" (PDF), "–ó–∞–∫–∞–∑ –∏–∑ –ë–î" (Excel)
- –õ–ö: `/executor/dashboard` - –¥–æ—Å–∫–∞ –∑–∞–∫–∞–∑–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º
- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∑–∞–∫–∞–∑–∞: `components/executor/OrdersBoard.tsx`

**Admin:**
- –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º

### –°—Ç–∞—Ç—É—Å—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

**Order (Complectator):**
- `DRAFT` - –ß–µ—Ä–Ω–æ–≤–∏–∫
- `SENT` - –û—Ç–ø—Ä–∞–≤–ª–µ–Ω
- `PAID` - –û–ø–ª–∞—á–µ–Ω
- `CANCELLED` - –û—Ç–º–µ–Ω–µ–Ω

**Order (Executor):**
- `NEW_PLANNED` - –ù–æ–≤—ã–π –∑–∞–∫–∞–∑
- `UNDER_REVIEW` - –ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ
- `AWAITING_MEASUREMENT` - –ñ–¥–µ—Ç –∑–∞–º–µ—Ä
- `AWAITING_INVOICE` - –û–∂–∏–¥–∞–µ—Ç —Å—á–µ—Ç
- `COMPLETED` - –í—ã–ø–æ–ª–Ω–µ–Ω–∞

**Invoice:**
- `DRAFT`, `SENT`, `PAID`, `ORDERED`, `RECEIVED_FROM_SUPPLIER`, `COMPLETED`, `CANCELLED`

**Quote:**
- `DRAFT`, `SENT`, `ACCEPTED`, `REJECTED`, `CANCELLED`

**SupplierOrder:**
- `PENDING`, `ORDERED`, `RECEIVED_FROM_SUPPLIER`, `COMPLETED`, `CANCELLED`

**–í–∞–∂–Ω–æ:** –°—Ç–∞—Ç—É—Å—ã —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ `lib/utils/document-statuses.ts` - —ç—Ç–æ –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã.

### API Endpoints

**–û—Å–Ω–æ–≤–Ω—ã–µ:**
- `POST /api/orders` - —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞
- `POST /api/orders/create-with-invoice` - —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ —Å–æ —Å—á–µ—Ç–æ–º
- `GET /api/orders?client_id=...` - —Å–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤ –∫–ª–∏–µ–Ω—Ç–∞
- `GET /api/orders/[id]` - –¥–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞ (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `cart_data` –∏–∑ Order –∏ Invoice)
- `PUT /api/orders/[id]/status` - –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞
- `POST /api/documents/create` - —Å–æ–∑–¥–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (Invoice, Quote, SupplierOrder)
- `POST /api/orders/[id]/files` - –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ (—Ç–µ—Ö. –∑–∞–¥–∞–Ω–∏—è, –æ–ø—Ç–æ–≤—ã–µ —Å—á–µ—Ç–∞)
- `POST /api/orders/[id]/project` - –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞/–ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∏

**–≠–∫—Å–ø–æ—Ä—Ç:**
- `POST /api/documents/[id]/export?format=pdf` - —ç–∫—Å–ø–æ—Ä—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞ –≤ PDF (–¥–ª—è Invoice/Quote/Order)
- `GET /api/quotes/[id]/export/pdf` - —ç–∫—Å–ø–æ—Ä—Ç –ö–ü –≤ PDF
- `GET /api/supplier-orders/[id]/excel` - —ç–∫—Å–ø–æ—Ä—Ç –∑–∞–∫–∞–∑–∞ —É –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞ –≤ Excel
- `POST /api/export/fast` - –±—ã—Å—Ç—Ä—ã–π —ç–∫—Å–ø–æ—Ä—Ç PDF/Excel –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã

**–ö–ª–∏–µ–Ω—Ç—ã:**
- `GET /api/clients` - —Å–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤
- `POST /api/clients` - —Å–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞

**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:**
- `POST /api/auth/login` - –≤—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É

### UI –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∑–∞–∫–∞–∑–∞ (Complectator):**
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç: `components/complectator/OrderDetailsModal.tsx`
- –†–∞–∑–º–µ—Ä: `xl` (604px —à–∏—Ä–∏–Ω–∞)
- –ó–∞–≥–æ–ª–æ–≤–æ–∫: —Ç–æ–ª—å–∫–æ –Ω–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞ (–±–µ–∑ –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ "–ó–∞–∫–∞–∑")
- –ö–Ω–æ–ø–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞: –≤—Å–µ–≥–¥–∞ –≤–∏–¥–Ω—ã (–∞–∫—Ç–∏–≤–Ω—ã/–Ω–µ–∞–∫—Ç–∏–≤–Ω—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞–ª–∏—á–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞)
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤: —Ä—É—á–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –ø–æ –ø–æ–ª—è–º `type`, `handleId`, `handleName`

**–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∑–∞–∫–∞–∑–∞ (Executor):**
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç: `components/executor/OrdersBoard.tsx` (OrderDetailModal)
- –ë–ª–æ–∫–∏ —Å–ø—Ä–∞–≤–∞: –ü—Ä–æ–µ–∫—Ç/–ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∞, –¢–µ—Ö. –∑–∞–¥–∞–Ω–∏—è, –û–ø—Ç–æ–≤—ã–µ —Å—á–µ—Ç–∞
- –í—Å–µ –±–ª–æ–∫–∏ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã —Å –∫–Ω–æ–ø–∫–æ–π "–ó–∞–≥—Ä—É–∑–∏—Ç—å" —Å–ø—Ä–∞–≤–∞
- –°–ø–∏—Å–∫–∏ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
- –ë–ª–æ–∫ "–¢–æ–≤–∞—Ä—ã" –≤–Ω–∏–∑—É —Å–æ —Å–ø–∏—Å–∫–æ–º —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ –∑–∞–∫–∞–∑–∞ –∏ –∏—Ç–æ–≥–æ–º
- –ö–Ω–æ–ø–∫–∞ "–û–ø–ª–∞—á–µ–Ω–Ω—ã–π —Å—á–µ—Ç" –∞–∫—Ç–∏–≤–Ω–∞ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `invoice.status === 'PAID'`

**–ö–æ—Ä–∑–∏–Ω–∞:**
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: `EnhancedCartSidebar`, `QuickCartSidebar`, `CartSidebar`
- –ö–Ω–æ–ø–∫–∞ "–°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑" –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä–∞
- –≠–∫—Å–ø–æ—Ä—Ç –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Å–æ–∑–¥–∞–Ω–∏–µ–º Order –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (2025-11-04)

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ OrderDetailsModal (Complectator):**
1. ‚úÖ –£–±—Ä–∞–Ω–æ –¥—É–±–ª–∏—Ä—É—é—â–µ–µ "–ó–∞–∫–∞–∑" –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ
2. ‚úÖ –£–º–µ–Ω—å—à–µ–Ω–∞ —à–∏—Ä–∏–Ω–∞ –æ–∫–Ω–∞ –Ω–∞ 50% (604px)
3. ‚úÖ –ö–Ω–æ–ø–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ —Å—á–µ—Ç–∞ –∏ –ö–ü –≤—Å–µ–≥–¥–∞ –≤–∏–¥–Ω—ã (–∞–∫—Ç–∏–≤–Ω—ã/–Ω–µ–∞–∫—Ç–∏–≤–Ω—ã)
4. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä—É—á–µ–∫ - –ø–æ –ø–æ–ª—è–º —Ç–æ–≤–∞—Ä–∞ (`type`, `handleId`, `handleName`), –Ω–µ –ø–æ —Ü–µ–Ω–µ
5. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã endpoints —ç–∫—Å–ø–æ—Ä—Ç–∞ - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã (POST –¥–ª—è —Å—á–µ—Ç–∞, GET –¥–ª—è –ö–ü)
6. ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è cart_data:**
1. ‚úÖ `cart_data` –≤—Å–µ–≥–¥–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ `{ items: [...], total_amount: ... }`
2. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ `app/api/orders/route.ts` –∏ `app/api/orders/create-with-invoice/route.ts`
3. ‚úÖ –£–ª—É—á—à–µ–Ω –ø–∞—Ä—Å–∏–Ω–≥ `cart_data` –≤ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–Ω–∞—Ö

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**
1. ‚úÖ –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç `scripts/start-ssh-tunnel.ps1` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ SSH —Ç—É–Ω–Ω–µ–ª—è
2. ‚úÖ –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç `scripts/start-local-dev.ps1` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ dev —Å–µ—Ä–≤–µ—Ä–∞
3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–∞–Ω–¥—ã: `npm run dev:tunnel`, `npm run dev:start`
4. ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `LOCAL_DEV_SETUP.md`, `LOCAL_DEV_QUICK_START.md`

**–£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
1. ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –≤ API `/api/clients`
2. ‚úÖ –ü–æ–¥—Å–∫–∞–∑–∫–∏ –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ SSH —Ç—É–Ω–Ω–µ–ª—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
3. ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ `fetchClients` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

### –¢–µ–∫—É—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ:**
1. ‚ö†Ô∏è **–û—à–∏–±–∫–∞ 500 –ø—Ä–∏ –≤—Ö–æ–¥–µ** (`/api/auth/login`)
   - –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã: –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ JWT_SECRET –≤ .env.local, –æ—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
   - –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å: –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, SSH —Ç—É–Ω–Ω–µ–ª—å, –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞

**–ù–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ:**
1. ‚ö†Ô∏è –û—à–∏–±–∫–∞ "Failed to fetch clients" - –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∫–æ–≥–¥–∞ SSH —Ç—É–Ω–Ω–µ–ª—å –Ω–µ –∑–∞–ø—É—â–µ–Ω
   - –†–µ—à–µ–Ω–∏–µ: –∑–∞–ø—É—Å—Ç–∏—Ç—å `npm run dev:tunnel` –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ

### –í–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `components/complectator/OrderDetailsModal.tsx` - –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∑–∞–∫–∞–∑–∞ (–ö–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä)
- `components/executor/OrdersBoard.tsx` - –¥–æ—Å–∫–∞ –∑–∞–∫–∞–∑–æ–≤ –∏ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ (–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å)
- `app/complectator/dashboard/ComplectatorDashboardComponent.tsx` - –õ–ö –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä–∞

**API:**
- `app/api/orders/route.ts` - —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤
- `app/api/orders/create-with-invoice/route.ts` - —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ —Å–æ —Å—á–µ—Ç–æ–º
- `app/api/orders/[id]/route.ts` - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π –∑–∞–∫–∞–∑–∞
- `app/api/clients/route.ts` - —Ä–∞–±–æ—Ç–∞ —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏
- `app/api/auth/login/route.ts` - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

**–£—Ç–∏–ª–∏—Ç—ã:**
- `lib/utils/document-statuses.ts` - —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- `lib/utils/status-mapping.ts` - –º–∞–ø–ø–∏–Ω–≥ —Å—Ç–∞—Ç—É—Å–æ–≤ –¥–ª—è UI
- `lib/utils/order-status-display.ts` - –ª–æ–≥–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–∫–∞–∑–æ–≤

**–°—Ö–µ–º–∞ –ë–î:**
- `prisma/schema.prisma` - —Å—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- `docs/PROJECT_OVERVIEW.md` - –ø–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- `LOCAL_DEV_SETUP.md` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- `LOCAL_DEV_QUICK_START.md` - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

1. **–°–æ–∑–¥–∞—Ç—å SSH —Ç—É–Ω–Ω–µ–ª—å** (—Ç–µ—Ä–º–∏–Ω–∞–ª 1):
   ```powershell
   npm run dev:tunnel
   ```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç—å dev —Å–µ—Ä–≤–µ—Ä** (—Ç–µ—Ä–º–∏–Ω–∞–ª 2):
   ```powershell
   npm run dev
   ```

3. **–û—Ç–∫—Ä—ã—Ç—å –±—Ä–∞—É–∑–µ—Ä**: http://localhost:3000

4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å .env.local**:
   ```env
   DATABASE_URL="postgresql://staging_user:staging_password@localhost:5432/domeo_staging?schema=public"
   NEXTAUTH_SECRET="local-dev-secret"
   NEXTAUTH_URL="http://localhost:3000"
   JWT_SECRET="your-jwt-secret-minimum-32-characters"
   ```

### –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

- **Order-first –ª–æ–≥–∏–∫–∞**: Order –≤—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –Ω–∞ –µ–≥–æ –æ—Å–Ω–æ–≤–µ
- **cart_data —Ñ–æ—Ä–º–∞—Ç**: –í—Å–µ–≥–¥–∞ `{ items: [...], total_amount: ... }` (JSON —Å—Ç—Ä–æ–∫–∞ –≤ –ë–î)
- **–î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è**: –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ `cart_session_id` –∏ —Ö–µ—à—É `cart_data`
- **–°—Ç–∞—Ç—É—Å—ã**: –ö–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–≤–æ–∏–º–∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏, –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å - —Å–≤–æ–∏–º–∏
- **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä—É—á–µ–∫**: –ü–æ –ø–æ–ª—è–º `type === 'handle'`, `handleId`, `handleName` (–Ω–µ –ø–æ —Ü–µ–Ω–µ!)
- **–≠–∫—Å–ø–æ—Ä—Ç**: –ö–Ω–æ–ø–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤—Å–µ–≥–¥–∞ –≤–∏–¥–Ω—ã, –∞–∫—Ç–∏–≤–Ω—ã —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- **–õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ SSH —Ç—É–Ω–Ω–µ–ª—å –∫ staging –ë–î, –Ω–µ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞–π—Ç–µ Docker –æ–±—Ä–∞–∑

### –¢–µ–∫—É—â–∏–µ –∑–∞–¥–∞—á–∏

1. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä—É—á–µ–∫ –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ –∑–∞–∫–∞–∑–∞
2. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∫–Ω–æ–ø–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ —Å—á–µ—Ç–∞ –∏ –ö–ü
3. ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å hot reload
4. ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ API
5. ‚ö†Ô∏è –ù—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É 500 –ø—Ä–∏ –≤—Ö–æ–¥–µ (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å JWT_SECRET –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î)

---

**–í–µ—Ä—Å–∏—è**: –¢–µ–∫—É—â–∞—è (–ø–æ—Å–ª–µ –≤—Å–µ—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π)  
**–î–∞—Ç–∞**: 2025-11-04  
**–°—Ç–∞—Ç—É—Å**: –ê–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞, –ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
