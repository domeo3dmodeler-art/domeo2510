# ‚úÖ –§–ò–ù–ê–õ–¨–ù–´–ô –û–¢–ß–ï–¢: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è PDF –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

## üéØ –ü–†–û–ë–õ–ï–ú–ê –ë–´–õ–ê:

### –û—à–∏–±–∫–∞ –≤ –ª–æ–≥–∞—Ö –í–ú:
```
‚ùå –û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ PDF: TypeError: g.waitForTimeout is not a function
```

**–ü—Ä–∏—á–∏–Ω–∞:** `waitForTimeout()` —É–¥–∞–ª–µ–Ω –≤ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏—è—Ö puppeteer-core

---

## üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø:

### 1. –ó–∞–º–µ–Ω–∞ deprecated —Ñ—É–Ω–∫—Ü–∏–∏ `waitForTimeout`:

**–ë—ã–ª–æ:**
```typescript
await page.waitForTimeout(500);
```

**–°—Ç–∞–ª–æ:**
```typescript
await new Promise(resolve => setTimeout(resolve, 500));
```

### 2. –î–æ–±–∞–≤–ª–µ–Ω `finally` –±–ª–æ–∫ –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è –±—Ä–∞—É–∑–µ—Ä–∞

### 3. –£–ø—Ä–æ—â–µ–Ω `waitUntil` —Å `networkidle0` –Ω–∞ `load`

### 4. –£–≤–µ–ª–∏—á–µ–Ω—ã —Ç–∞–π–º–∞—É—Ç—ã –¥–æ 60000ms

### 5. –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–∞–∫–µ—Ç—ã NSS –∏ Chromium –≤ Docker Alpine

---

## üìã –ó–ê–ö–û–ú–ú–ò–ß–ï–ù–û:

### –ö–æ–º–º–∏—Ç—ã:
1. `f25f1cd` - Use puppeteer-core with chromium
2. `0684d6b` - Add NSS and Chromium packages
3. `6e6f089` - Improve PDF stability with finally block
4. `9452e75` - Replace deprecated waitForTimeout ‚úÖ

### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:
- ‚úÖ `lib/export/puppeteer-generator.ts` (4 –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
- ‚úÖ `app/api/documents/generate/route.ts` (1 –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
- ‚úÖ `Dockerfile.staging` (1 –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)

---

## ‚úÖ –°–¢–ê–¢–£–°:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å |
|-----------|--------|
| –ö–æ–¥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω | ‚úÖ |
| –ó–∞–∫–æ–º–º–∏—á–µ–Ω–æ | ‚úÖ |
| –ó–∞–ø—É—à–µ–Ω–æ | ‚úÖ |
| –í–ú –æ–±–Ω–æ–≤–ª–µ–Ω–æ | ‚úÖ |
| –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω | ‚úÖ |
| **–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é** | ‚úÖ |

---

## üß™ –¢–ï–°–¢:

**URL:** http://130.193.40.35:3001

**–®–∞–≥–∏:**
1. –û—Ç–∫—Ä—ã—Ç—å /doors
2. –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä—ã
3. –ù–∞–∂–∞—Ç—å "–°—á–µ—Ç"
4. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å PDF
5. **–û–∂–∏–¥–∞–µ—Ç—Å—è: PDF —Å–∫–∞—á–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫** ‚úÖ

---

**–í–°–ï –ò–°–ü–†–ê–í–õ–ï–ù–û –ò –ì–û–¢–û–í–û! üéâ**

