# –ü–æ–ª–Ω—ã–π –æ–±–∑–æ—Ä –ª–æ–≥–∏–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ —Å–∏—Å—Ç–µ–º–µ

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### 1. –§–∞–π–ª—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

#### `lib/notifications.ts` - –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
**–§—É–Ω–∫—Ü–∏–∏**:
- `createNotification(data)` - —Å–æ–∑–¥–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- `notifyUsersByRole(role, data)` - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ —Ä–æ–ª–∏
- `notifyUser(userId, data)` - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ü–æ–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**:
- `user_id` - –∫–æ–º—É –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è
- `client_id` - ID –∫–ª–∏–µ–Ω—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `document_id` - ID –¥–æ–∫—É–º–µ–Ω—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `type` - —Ç–∏–ø —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- `title` - –∑–∞–≥–æ–ª–æ–≤–æ–∫
- `message` - —Å–æ–æ–±—â–µ–Ω–∏–µ
- `is_read` - –ø—Ä–æ—á–∏—Ç–∞–Ω–æ/–Ω–µ—Ç

#### `lib/notifications/status-notifications.ts` - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–∞—Ö
**–°—Ç–∞—Ä—ã–µ —Å—Ç–∞—Ç—É—Å—ã (—É–¥–∞–ª–∏—Ç—å)**:
- `IN_PRODUCTION` ‚Üí –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `ORDERED`
- `READY` ‚Üí –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å `RECEIVED_FROM_SUPPLIER`

**–¢–µ–∫—É—â–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è Invoice**:
```typescript
'SENT': {
  recipients: ['client'],
  message: '–í–∞–º –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω —Å—á–µ—Ç –Ω–∞ –æ–ø–ª–∞—Ç—É'
},
'PAID': {
  recipients: ['complectator'], // ‚ùå –ù–ï–í–ï–†–ù–û! –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å executor
  message: '–ö–ª–∏–µ–Ω—Ç –æ–ø–ª–∞—Ç–∏–ª —Å—á–µ—Ç'
},
'IN_PRODUCTION': {  // ‚ùå –°–¢–ê–†–´–ô –°–¢–ê–¢–£–°
  recipients: ['executor'],
  message: '–°—á–µ—Ç –ø–µ—Ä–µ–≤–µ–¥–µ–Ω –≤ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ'
},
'RECEIVED_FROM_SUPPLIER': {
  recipients: ['complectator'],
  message: '–¢–æ–≤–∞—Ä –ø–æ–ª—É—á–µ–Ω –æ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞'
},
'COMPLETED': {
  recipients: ['complectator', 'client'],
  message: '–ó–∞–∫–∞–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω'
}
```

**–¢–µ–∫—É—â–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è SupplierOrder**:
```typescript
'ORDERED': {
  recipients: ['complectator'],
  message: '–ó–∞–∫–∞–∑ —Ä–∞–∑–º–µ—â–µ–Ω —É –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞'
},
'IN_PRODUCTION': {  // ‚ùå –°–¢–ê–†–´–ô –°–¢–ê–¢–£–°
  recipients: ['complectator'],
  message: '–ó–∞–∫–∞–∑ –≤ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ —É –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞'
},
'READY': {  // ‚ùå –°–¢–ê–†–´–ô –°–¢–ê–¢–£–°
  recipients: ['complectator'],
  message: '–ó–∞–∫–∞–∑ –≥–æ—Ç–æ–≤ —É –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞'
},
'COMPLETED': {
  recipients: ['complectator'],
  message: '–ó–∞–∫–∞–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–º'
}
```

### 2. –ì–¥–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

#### `app/api/invoices/[id]/status/route.ts`
**–°—Ç—Ä–æ–∫–∏ 100-124**:
```typescript
if (status === 'PAID') {
  // –£–≤–µ–¥–æ–º–ª—è–µ–º –≤—Å–µ—Ö –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π –æ —Ç–æ–º, —á—Ç–æ —Å—á–µ—Ç –æ–ø–ª–∞—á–µ–Ω
  await notifyUsersByRole('executor', {
    clientId: existingInvoice.client_id,
    documentId: id,
    type: 'invoice_paid',
    title: '–°—á–µ—Ç –æ–ø–ª–∞—á–µ–Ω',
    message: `–°—á–µ—Ç ${existingInvoice.number} –ø–µ—Ä–µ–≤–µ–¥–µ–Ω –≤ —Å—Ç–∞—Ç—É—Å "–û–ø–ª–∞—á–µ–Ω/–ó–∞–∫–∞–∑". –¢–µ–ø–µ—Ä—å —Ç–æ–ª—å–∫–æ –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å —Å—Ç–∞—Ç—É—Å.`
  });
} else if (['ORDERED', 'RECEIVED_FROM_SUPPLIER', 'COMPLETED'].includes(status)) {
  // –£–≤–µ–¥–æ–º–ª—è–µ–º –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä–∞ –æ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º
  await notifyUsersByRole('complectator', {
    clientId: existingInvoice.client_id,
    documentId: id,
    type: 'status_changed',
    title: '–°—Ç–∞—Ç—É—Å –∏–∑–º–µ–Ω–µ–Ω',
    message: `–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å –∏–∑–º–µ–Ω–∏–ª —Å—Ç–∞—Ç—É—Å —Å—á–µ—Ç–∞ ${existingInvoice.number} –Ω–∞ "${statusNames[status]}".`
  });
}
```

#### `app/api/supplier-orders/[id]/status/route.ts`
**–°—Ç—Ä–æ–∫–∏ 127-137**:
```typescript
await prisma.notification.create({
  data: {
    user_id: parentUser.id,
    client_id: invoice.client_id,
    document_id: invoice.id,
    type: 'STATUS_CHANGE',
    title: '–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞',
    message: invoiceInfo,
    is_read: false
  }
});
```

‚ö†Ô∏è **–ü–†–û–ë–õ–ï–ú–ê**: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è `parentUser.id` (–∫—Ç–æ —Å–æ–∑–¥–∞–ª —Å—á–µ—Ç), –∞ –¥–æ–ª–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è **–∫–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä—É**, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–ª —Å—á–µ—Ç.

### 3. –õ–æ–≥–∏–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–æ —Ä–æ–ª—è–º

**–¢–µ–∫—É—â–∞—è –ª–æ–≥–∏–∫–∞**:
1. **–ö–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä** –ø–µ—Ä–µ–≤–æ–¥–∏—Ç Invoice –≤ `PAID`
   - ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è `executor`

2. **–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å** –ø–µ—Ä–µ–≤–æ–¥–∏—Ç SupplierOrder –≤ `ORDERED`, `RECEIVED_FROM_SUPPLIER`, `COMPLETED`
   - ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è `complectator`
   
**–ù–û**: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ SupplierOrder –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è `parentUser.id`, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.

---

## üîç –ü—Ä–æ–±–ª–µ–º—ã –≤ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã
- `status-notifications.ts` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç–∞—Ä—ã–µ —Å—Ç–∞—Ç—É—Å—ã (`IN_PRODUCTION`, `READY`)
- –ù—É–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ `ORDERED`, `RECEIVED_FROM_SUPPLIER`

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–ª—É—á–∞—Ç–µ–ª—å –≤ SupplierOrder
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è `parentUser.id` (–∫—Ç–æ —Å–æ–∑–¥–∞–ª —Å—á–µ—Ç)
- –î–æ–ª–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –≤—Å–µ–º **–∫–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä–∞–º** (–Ω–µ —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç–µ–ª—é)

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å
- Invoice: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `notifyUsersByRole('executor')` ‚Üí —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ
- SupplierOrder: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `prisma.notification.create()` ‚Üí —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚ùå

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–ª—è Quote
- –í `app/api/quotes/[id]/status/route.ts` **–Ω–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞ Quote –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –ø–æ–ª—É—á–∞—é—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

---

## ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### Invoice ‚Üí PAID
**–ö—Ç–æ –º–µ–Ω—è–µ—Ç**: –ö–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä
**–ö—Ç–æ –ø–æ–ª—É—á–∞–µ—Ç**: –í—Å–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–∏ (executor)
**–°–æ–æ–±—â–µ–Ω–∏–µ**: "–°—á–µ—Ç [–Ω–æ–º–µ—Ä] –æ–ø–ª–∞—á–µ–Ω. –í—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑ —É –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞."

### Invoice ‚Üí ORDERED
**–ö—Ç–æ –º–µ–Ω—è–µ—Ç**: –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å (—á–µ—Ä–µ–∑ SupplierOrder)
**–ö—Ç–æ –ø–æ–ª—É—á–∞–µ—Ç**: –í—Å–µ –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä—ã
**–°–æ–æ–±—â–µ–Ω–∏–µ**: "–ó–∞–∫–∞–∑ –¥–ª—è —Å—á–µ—Ç–∞ [–Ω–æ–º–µ—Ä] —Ä–∞–∑–º–µ—â–µ–Ω —É –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞."

### Invoice ‚Üí RECEIVED_FROM_SUPPLIER
**–ö—Ç–æ –º–µ–Ω—è–µ—Ç**: –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å (—á–µ—Ä–µ–∑ SupplierOrder)
**–ö—Ç–æ –ø–æ–ª—É—á–∞–µ—Ç**: –í—Å–µ –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä—ã
**–°–æ–æ–±—â–µ–Ω–∏–µ**: "–¢–æ–≤–∞—Ä –ø–æ —Å—á–µ—Ç—É [–Ω–æ–º–µ—Ä] –ø–æ–ª—É—á–µ–Ω –æ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞."

### Invoice ‚Üí COMPLETED
**–ö—Ç–æ –º–µ–Ω—è–µ—Ç**: –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å (—á–µ—Ä–µ–∑ SupplierOrder)
**–ö—Ç–æ –ø–æ–ª—É—á–∞–µ—Ç**: –í—Å–µ –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä—ã + –∫–ª–∏–µ–Ω—Ç
**–°–æ–æ–±—â–µ–Ω–∏–µ**: "–ó–∞–∫–∞–∑ –ø–æ —Å—á–µ—Ç—É [–Ω–æ–º–µ—Ä] –≤—ã–ø–æ–ª–Ω–µ–Ω."

### Quote ‚Üí SENT
**–ö—Ç–æ –º–µ–Ω—è–µ—Ç**: –ö–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä
**–ö—Ç–æ –ø–æ–ª—É—á–∞–µ—Ç**: –ö–ª–∏–µ–Ω—Ç
**–°–æ–æ–±—â–µ–Ω–∏–µ**: "–í–∞–º –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ."

### Quote ‚Üí ACCEPTED
**–ö—Ç–æ –º–µ–Ω—è–µ—Ç**: –ö–ª–∏–µ–Ω—Ç/–ö–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä
**–ö—Ç–æ –ø–æ–ª—É—á–∞–µ—Ç**: –í—Å–µ –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä—ã
**–°–æ–æ–±—â–µ–Ω–∏–µ**: "–ö–ª–∏–µ–Ω—Ç –ø—Ä–∏–Ω—è–ª –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ [–Ω–æ–º–µ—Ä]."

---

## üõ†Ô∏è –ß—Ç–æ –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å

### 1. –û–±–Ω–æ–≤–∏—Ç—å status-notifications.ts
```typescript
invoice: {
  'SENT': {
    recipients: ['client'],
    message: '–í–∞–º –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω —Å—á–µ—Ç –Ω–∞ –æ–ø–ª–∞—Ç—É'
  },
  'PAID': {
    recipients: ['executor'],  // ‚úÖ –ò—Å–ø—Ä–∞–≤–∏–ª–∏
    message: '–°—á–µ—Ç –æ–ø–ª–∞—á–µ–Ω. –í—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑ —É –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞.'
  },
  'ORDERED': {  // ‚úÖ –î–æ–±–∞–≤–∏–ª–∏ –≤–º–µ—Å—Ç–æ IN_PRODUCTION
    recipients: ['complectator'],
    message: '–ó–∞–∫–∞–∑ —Ä–∞–∑–º–µ—â–µ–Ω —É –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞.'
  },
  'RECEIVED_FROM_SUPPLIER': {
    recipients: ['complectator'],
    message: '–¢–æ–≤–∞—Ä –ø–æ–ª—É—á–µ–Ω –æ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞.'
  },
  'COMPLETED': {
    recipients: ['complectator', 'client'],
    message: '–ó–∞–∫–∞–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω.'
  }
}
```

### 2. –û–±–Ω–æ–≤–∏—Ç—å app/api/supplier-orders/[id]/status/route.ts
```typescript
// –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞:
await notifyUsersByRole('complectator', {
  clientId: invoice.client_id,
  documentId: invoice.id,
  type: 'status_changed',
  title: '–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞',
  message: invoiceInfo
});
```

### 3. –î–æ–±–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ app/api/quotes/[id]/status/route.ts
```typescript
// –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞
if (status === 'SENT') {
  await notifyUsersByRole('client', {
    clientId: quote.client_id,
    documentId: id,
    type: 'quote_sent',
    title: '–ö–ü –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ',
    message: `–ö–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ ${quote.number} –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –∫–ª–∏–µ–Ω—Ç—É.`
  });
} else if (status === 'ACCEPTED') {
  await notifyUsersByRole('complectator', {
    clientId: quote.client_id,
    documentId: id,
    type: 'quote_accepted',
    title: '–ö–ü –ø—Ä–∏–Ω—è—Ç–æ',
    message: `–ö–ª–∏–µ–Ω—Ç –ø—Ä–∏–Ω—è–ª –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ ${quote.number}.`
  });
}
```

---

## üìù –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ö–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

```
–ö–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä:
  Quote (SENT) ‚Üí –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—É
  Quote (ACCEPTED) ‚Üí –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä—É
  Invoice (PAID) ‚Üí –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—é

–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:
  SupplierOrder (ORDERED) ‚Üí –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä—É
  SupplierOrder (RECEIVED_FROM_SUPPLIER) ‚Üí –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä—É
  SupplierOrder (COMPLETED) ‚Üí –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ç–æ—Ä—É + –∫–ª–∏–µ–Ω—Ç—É

–ö–ª–∏–µ–Ω—Ç:
  –ü–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ SENT –∏ COMPLETED
```

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å `status-notifications.ts` - –∑–∞–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ä—ã–µ —Å—Ç–∞—Ç—É—Å—ã
2. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å `app/api/supplier-orders/[id]/status/route.ts` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `notifyUsersByRole`
3. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ `app/api/quotes/[id]/status/route.ts`
4. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

