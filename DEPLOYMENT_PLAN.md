# üéØ –ü–æ–ª–Ω—ã–π –ø–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ø–∞–π–ø–ª–∞–π–Ω–∞ —Å GitHub Actions

## üìã –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### üåê –°—Ä–µ–¥—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:
- **–õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞**: Windows –º–∞—à–∏–Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
- **–¢–µ—Å—Ç–æ–≤–∞—è —Å—Ä–µ–¥–∞**: –í–ú –Ω–∞ Yandex Cloud (89.169.189.66:3001)
- **–ü—Ä–æ–¥–∞–∫—à–Ω —Å—Ä–µ–¥–∞**: Kubernetes –∫–ª–∞—Å—Ç–µ—Ä –Ω–∞ Yandex Cloud (130.193.40.35:3000)

### üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:
- **–ü—Ä–æ–¥–∞–∫—à–Ω**: PostgreSQL –Ω–∞ YC –∫–ª–∞—Å—Ç–µ—Ä–µ
- **–¢–µ—Å—Ç–æ–≤–∞—è**: PostgreSQL –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–π –í–ú
- **–õ–æ–∫–∞–ª—å–Ω–∞—è**: SQLite –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### üê≥ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è:
- **Docker**: Multi-stage builds –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- **Dockerfile**: –û—Å–Ω–æ–≤–Ω–æ–π –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞
- **Dockerfile.staging**: –î–ª—è —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ä–µ–¥—ã
- **Dockerfile.production**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞

### üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫:
- **Frontend**: Next.js 15.5.6, React 19, TypeScript
- **Backend**: Next.js API Routes, Prisma ORM
- **Database**: PostgreSQL, Prisma Client
- **Styling**: Tailwind CSS
- **Deployment**: Docker, Kubernetes, Yandex Cloud

---

## üìã –ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è

### **–≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞** ‚úÖ
1. **–û—á–∏—Å—Ç–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞** ‚úÖ
   - –£–¥–∞–ª–µ–Ω—ã –Ω–µ–Ω—É–∂–Ω—ã–µ Dockerfile'—ã (–æ—Å—Ç–∞–≤–ª–µ–Ω—ã –æ—Å–Ω–æ–≤–Ω—ã–µ)
   - –£–¥–∞–ª–µ–Ω—ã –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã
   - –û—á–∏—â–µ–Ω—ã –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å–∫—Ä–∏–ø—Ç—ã
2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã** üîÑ
   - –°–æ–∑–¥–∞—Ç—å .github/workflows/ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
   - –°–æ–∑–¥–∞—Ç—å scripts/safety/ –¥–ª—è —Å–∫—Ä–∏–ø—Ç–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
3. **–°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** üîÑ
   - safety-checks.sh - –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º
   - backup.sh - —Å–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤
   - health-check.sh - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
4. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ package.json** üîÑ
   - –î–æ–±–∞–≤–∏—Ç—å —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è GitHub Actions
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–µ–ø–ª–æ—è

### **–≠—Ç–∞–ø 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Actions**
1. **–°–æ–∑–¥–∞–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ workflow** üîÑ
   - .github/workflows/safe-deploy.yml
   - –¢—Ä–∏–≥–≥–µ—Ä—ã: push –≤ main/develop, pull_request
   - –≠—Ç–∞–ø—ã: build, test, deploy
2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Secrets** üîÑ
   - SSH –∫–ª—é—á–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ—Ä–≤–µ—Ä–∞–º
   - DATABASE_URL –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ä–µ–¥
   - YC –∫–ª–∞—Å—Ç–µ—Ä credentials
   - JWT_SECRET –∏ –¥—Ä—É–≥–∏–µ —Å–µ–∫—Ä–µ—Ç—ã
3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–π–ø–ª–∞–π–Ω–∞** üîÑ
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ Prisma Client
   - –¢–µ—Å—Ç —Å–±–æ—Ä–∫–∏ Docker –æ–±—Ä–∞–∑–æ–≤
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–ø–ª–æ—è –≤ —Ç–µ—Å—Ç–æ–≤—É—é —Å—Ä–µ–¥—É

### **–≠—Ç–∞–ø 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ä–µ–¥—ã**
1. **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–π –í–ú** üîÑ
   - IP: 89.169.189.66:3001
   - –ö–æ–ø–∏—è –ø—Ä–æ–¥–∞–∫—à–Ω –ë–î –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH –¥–æ—Å—Ç—É–ø–∞
2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH –∫–ª—é—á–µ–π** üîÑ
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SSH –∫–ª—é—á–µ–π –¥–ª—è GitHub Actions
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—É–±–ª–∏—á–Ω—ã—Ö –∫–ª—é—á–µ–π –Ω–∞ —Ç–µ—Å—Ç–æ–≤—É—é –í–ú
3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–ø–ª–æ—è** üîÑ
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–ø–ª–æ—è —á–µ—Ä–µ–∑ GitHub Actions
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ health checks
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### **–≠—Ç–∞–ø 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–¥–∞–∫—à–Ω —Å—Ä–µ–¥—ã (YC –∫–ª–∞—Å—Ç–µ—Ä)**
1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ YC –∫–ª–∞—Å—Ç–µ—Ä—É** üîÑ
   - IP: 130.193.40.35:3000
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ kubectl –¥–ª—è GitHub Actions
   - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–ª–∞—Å—Ç–µ—Ä—É
2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±—ç–∫–∞–ø–æ–≤** üîÑ
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã –ë–î –≤ YC Object Storage
   - –°–∫—Ä–∏–ø—Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∏–∑ –±—ç–∫–∞–ø–æ–≤
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è –±—ç–∫–∞–ø–æ–≤
3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞** üîÑ
   - Health checks –¥–ª—è –∫–ª–∞—Å—Ç–µ—Ä–∞
   - –ê–ª–µ—Ä—Ç—ã –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–µ—Ç—Ä–∏–∫–∏

### **–≠—Ç–∞–ø 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫**
1. **–¢–µ—Å—Ç –Ω–∞ develop –≤–µ—Ç–∫–µ** üîÑ
   - –î–µ–ø–ª–æ–π –≤ —Ç–µ—Å—Ç–æ–≤—É—é —Å—Ä–µ–¥—É (89.169.189.66:3001)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** üîÑ
   - –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - –ù–µ—Ç —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –≤ –∫–æ–¥–µ
   - –ë—ç–∫–∞–ø—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
3. **–î–µ–ø–ª–æ–π –≤ –ø—Ä–æ–¥–∞–∫—à–Ω** üîÑ
   - –î–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ main –≤–µ—Ç–∫—É –≤ YC –∫–ª–∞—Å—Ç–µ—Ä (130.193.40.35:3000)
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ—Ü–µ—Å—Å–∞ –¥–µ–ø–ª–æ—è
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### üõ°Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –Ω–∞ —É—è–∑–≤–∏–º–æ—Å—Ç–∏
- –õ–∏–Ω—Ç–∏–Ω–≥ –∫–æ–¥–∞ (ESLint, TypeScript)
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API endpoints
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Docker

### üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
- Health checks –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –ê–ª–µ—Ä—Ç—ã –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–∫–∞—Ö
- –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### üíæ –ë—ç–∫–∞–ø—ã:
- –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –±—ç–∫–∞–ø—ã –ë–î
- –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ YC Object Storage
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤

---

## üöÄ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞:
```bash
npm run dev          # –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run build        # –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
npm run test         # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
npm run lint         # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
```

### –î–µ–ø–ª–æ–π:
```bash
# –¢–µ—Å—Ç–æ–≤–∞—è —Å—Ä–µ–¥–∞
npm run deploy:staging

# –ü—Ä–æ–¥–∞–∫—à–Ω —Å—Ä–µ–¥–∞
npm run deploy:prod

# –ë—ç–∫–∞–ø
npm run backup
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
npm run health:staging
npm run health:prod

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ä–µ–¥
npm run monitor
```

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ó–∞–≤–µ—Ä—à–∏—Ç—å –≠—Ç–∞–ø 1**: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ —Å–∫—Ä–∏–ø—Ç—ã
2. **–°–æ–∑–¥–∞—Ç—å GitHub Actions workflow**: –û—Å–Ω–æ–≤–Ω–æ–π –ø–∞–π–ø–ª–∞–π–Ω –¥–µ–ø–ª–æ—è
3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã**: SSH –∫–ª—é—á–∏ –∏ credentials
4. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ä–µ–¥–µ**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –ø–∞–π–ø–ª–∞–π–Ω–∞
5. **–î–µ–ø–ª–æ–π –≤ –ø—Ä–æ–¥–∞–∫—à–Ω**: –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤ YC –∫–ª–∞—Å—Ç–µ—Ä

---

*–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω: 2025-10-24*
*–°—Ç–∞—Ç—É—Å: –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ*
*–°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –≠—Ç–∞–ø–∞ 1*

