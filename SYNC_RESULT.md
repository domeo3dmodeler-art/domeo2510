# ‚úÖ –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø –ó–ê–í–ï–†–®–ï–ù–ê

## üìä –ß–¢–û –°–î–ï–õ–ê–ù–û:

1. ‚úÖ **–ö–æ–¥ –∏–∑ Git –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω** - —á–∏—Å—Ç—ã–π develop
2. ‚úÖ **–ò–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç–∫–∞—á–µ–Ω—ã** - lib/prisma.ts –∏ package-lock.json
3. ‚úÖ **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ —Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–º**

## üîç –¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–°:

### Git:
```bash
On branch develop
# –ß–∏—Å—Ç—ã–π –∫–æ–¥, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω
Commit: 7b92ca3 (latest)
```

### –õ–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–Ω–µ –≤–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã):
- `*.md` - –ø–ª–∞–Ω—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (–º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å)
- `docker-compose.local.yml` - –∫–æ–Ω—Ñ–∏–≥ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π –ë–î
- `schema.sql` - —Å—Ö–µ–º–∞ –ë–î —Å –í–ú

---

## ‚úÖ –ß–¢–û –†–ê–ë–û–¢–ê–ï–¢:

–ò–∑ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –ª–æ–≥–æ–≤ –≤–∏–¥–Ω–æ:
```
prisma:query SELECT "public"."users".id... 
POST /api/auth/login 401 in 1427ms
```

**–≠—Ç–æ –∑–Ω–∞—á–∏—Ç:**
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- ‚úÖ –ë–î –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è (postgresql://domeo:domeo@localhost:5435/domeo)
- ‚úÖ –¢–∞–±–ª–∏—Ü—ã –µ—Å—Ç—å (–∑–∞–ø—Ä–æ—Å –∫ users –ø—Ä–æ—Ö–æ–¥–∏—Ç)
- ‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å –Ω–µ–≤–µ—Ä–Ω—ã–π (401 - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!)

---

## üéØ –î–ê–õ–¨–ù–ï–ô–®–ò–ï –®–ê–ì–ò:

### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å (–µ—Å–ª–∏ –Ω–µ –∑–∞–ø—É—â–µ–Ω–æ)
$env:DATABASE_URL="postgresql://domeo:domeo@localhost:5435/domeo"
npm run dev

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
# http://localhost:3000
```

### 2. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```bash
# –í–∞—Ä–∏–∞–Ω—Ç –ê: –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å –í–ú
ssh ubuntu@130.193.40.35 "docker exec domeo-staging-postgres pg_dump -U staging_user -d domeo_staging -t users --data-only --inserts" > users.sql
Get-Content users.sql | docker exec -i 2410_deploy-db-1 psql -U domeo -d domeo

# –í–∞—Ä–∏–∞–Ω—Ç –ë: –°–æ–∑–¥–∞—Ç—å –≤—Ä—É—á–Ω—É—é (—Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –ø–∞—Ä–æ–ª–µ–º)
docker exec -i 2410_deploy-db-1 psql -U domeo -d domeo -c "INSERT INTO users..."
```

### 3. Workflow —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

```bash
# –ü–†–ê–í–ò–¢–¨ –õ–û–ö–ê–õ–¨–ù–û
code app/api/auth/login/route.ts

# –ö–û–ú–ú–ò–¢–ò–¢–¨
git add .
git commit -m "Fix: description"
git push origin develop

# –î–ï–ü–õ–û–ò–¢–¨ –ù–ê –í–ú
ssh ubuntu@130.193.40.35 "cd /opt/domeo && git pull && docker compose -f docker-compose.staging.yml up -d --build"

# –¢–ï–°–¢–ò–†–û–í–ê–¢–¨
# http://130.193.40.35:3001
```

---

## üìù –ò–¢–û–ì:

- ‚úÖ **–ö–æ–¥ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω** —Å Git
- ‚úÖ **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è** –ª–æ–∫–∞–ª—å–Ω–æ
- ‚úÖ **–ë–î –ø–æ–¥–∫–ª—é—á–µ–Ω–∞** –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚è≥ **–ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ª–æ–≥–∏–Ω–∞

**–ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ!**

